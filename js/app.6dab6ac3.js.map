{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ExportModel.vue?f566","webpack:///./src/components/ExportModel.vue?4974","webpack:///./src/components/ExportModel.vue?8e4e","webpack:///./src/views/Preprocess.vue?fcfa","webpack:///./src/components/StatusMessage.vue?9970","webpack:///./src/components/Browser.vue?a10f","webpack:///./src/components/VerticalSplit.vue?191c","webpack:///./src/components/UploadFileButton.vue?a46f","webpack:///src/views/ImportExport.vue","webpack:///./src/components/EvaluateModel.vue?eefc","webpack:///./src/components/UploadFileButton.vue?9262","webpack:///src/components/UploadFileButton.vue","webpack:///./src/components/UploadFileButton.vue?2bc7","webpack:///./src/components/UploadFileButton.vue?583c","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/SideMenu.vue?7fc2","webpack:///./src/App.vue?6144","webpack:///./src/components/SideMenu.vue?46fc","webpack:///src/components/SideMenu.vue","webpack:///./src/components/SideMenu.vue?c7d9","webpack:///./src/components/SideMenu.vue","webpack:///./src/components/StatusMessage.vue?d4e0","webpack:///src/components/StatusMessage.vue","webpack:///./src/components/StatusMessage.vue?317b","webpack:///./src/components/StatusMessage.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/views/Sounds.vue?41fd","webpack:///./src/components/VerticalSplit.vue?9182","webpack:///src/components/VerticalSplit.vue","webpack:///./src/components/VerticalSplit.vue?1c15","webpack:///./src/components/VerticalSplit.vue","webpack:///./src/components/Browser.vue?a6da","webpack:///./src/components/UploadSoundButton.vue?81c7","webpack:///src/components/UploadSoundButton.vue","webpack:///./src/components/UploadSoundButton.vue?05a9","webpack:///./src/components/UploadSoundButton.vue","webpack:///./src/components/RecordAudioButton.vue?4686","webpack:///./src/components/AudioRecorder.vue?4832","webpack:///./src/utils/audioUtils.js","webpack:///src/components/AudioRecorder.vue","webpack:///./src/components/AudioRecorder.vue?66b1","webpack:///./src/components/AudioRecorder.vue?413e","webpack:///src/components/RecordAudioButton.vue","webpack:///./src/components/RecordAudioButton.vue?57ef","webpack:///./src/components/RecordAudioButton.vue","webpack:///./src/components/ItemList.vue?d6e5","webpack:///src/components/ItemList.vue","webpack:///./src/components/ItemList.vue?7e20","webpack:///./src/components/ItemList.vue","webpack:///src/components/Browser.vue","webpack:///./src/components/Browser.vue?2f4a","webpack:///./src/components/Browser.vue?ceeb","webpack:///./src/components/SoundInspector.vue?e4e3","webpack:///./src/components/VueAudio/VueAudio.vue?b95b","webpack:///./src/components/VueAudio/vueaudio.plugin.js","webpack:///./src/components/VueAudio/vueaudio.plugin.js?9545","webpack:///./src/components/VueAudio/VueAudio.vue","webpack:///src/components/SoundInspector.vue","webpack:///./src/components/SoundInspector.vue?3115","webpack:///./src/components/SoundInspector.vue","webpack:///./src/components/TopTabs.vue?1379","webpack:///src/components/TopTabs.vue","webpack:///./src/components/TopTabs.vue?12d2","webpack:///./src/components/TopTabs.vue","webpack:///src/views/Sounds.vue","webpack:///./src/views/Sounds.vue?797b","webpack:///./src/views/Sounds.vue?4a7d","webpack:///./src/views/Preprocess.vue?4712","webpack:///./src/components/PreprocessItem.vue?a42c","webpack:///src/components/PreprocessItem.vue","webpack:///./src/components/PreprocessItem.vue?e96e","webpack:///./src/components/PreprocessItem.vue","webpack:///src/views/Preprocess.vue","webpack:///./src/views/Preprocess.vue?f4ef","webpack:///./src/views/Preprocess.vue?d656","webpack:///./src/views/Models.vue?5185","webpack:///./src/components/SelectMultiple.vue?5f4a","webpack:///src/components/SelectMultiple.vue","webpack:///./src/components/SelectMultiple.vue?b6e2","webpack:///./src/components/SelectMultiple.vue","webpack:///./src/components/TrainModel.vue?e9a9","webpack:///./src/utils/trainingUtils.js","webpack:///src/components/TrainModel.vue","webpack:///./src/components/TrainModel.vue?69c2","webpack:///./src/components/TrainModel.vue?366f","webpack:///./src/components/EvaluateModel.vue?9c6c","webpack:///src/components/EvaluateModel.vue","webpack:///./src/components/EvaluateModel.vue?9b4f","webpack:///./src/components/EvaluateModel.vue","webpack:///./src/components/PredictModel.vue?32c3","webpack:///src/components/PredictModel.vue","webpack:///./src/components/PredictModel.vue?770a","webpack:///./src/components/PredictModel.vue?726c","webpack:///src/views/Models.vue","webpack:///./src/views/Models.vue?12fc","webpack:///./src/views/Models.vue?0fee","webpack:///./src/views/About.vue?fa59","webpack:///./src/views/About.vue?00a0","webpack:///./src/views/ImportExport.vue?d8c1","webpack:///./src/views/ImportExport.vue?9004","webpack:///./src/views/ImportExport.vue","webpack:///./src/router/index.js","webpack:///./src/utils/DiskIO.js","webpack:///./src/store/store-sounds.js","webpack:///./src/store/store-models.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///src/components/ExportModel.vue","webpack:///./src/App.vue?c650","webpack:///./src/components/AudioRecorder.vue?f0c2","webpack:///./src/components/PredictModel.vue?f5b8","webpack:///./src/components/Terminal.vue?2915","webpack:///src/components/Terminal.vue","webpack:///./src/components/Terminal.vue?3407","webpack:///./src/components/Terminal.vue?14cc","webpack:///./src/utils/imageUtils.js","webpack:///./src/components/TopTabs.vue?ceca","webpack:///./src/components/SoundInspector.vue?3884","webpack:///./src/components/VueAudio/VueAudio.vue?074f","webpack:///./src/components/ExportModel.vue?6986","webpack:///./src/views/Sounds.vue?b33b","webpack:///./src/views/Models.vue?7928","webpack:///./src/views/ImportExport.vue?0cea","webpack:///./src/components/RecordAudioButton.vue?2240","webpack:///./src/components/PreprocessItem.vue?e275","webpack:///./src/views/About.vue?dcfc","webpack:///./src/components/TrainModel.vue?1d7a","webpack:///./src/components/Terminal.vue?d1ca","webpack:///./src/components/ItemList.vue?c6e3","webpack:///./src/components/SelectMultiple.vue?c02b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","model","epochsTrained","roundTo","acc","loss","_e","on","exportModel","staticRenderFns","component","components","UploadFileButton","Terminal","ExportModel","output","computed","models","$store","getters","methods","exportSounds","saveData","sounds","importSounds","files","importData","Promise","reader","onload","resolve","e","target","readAsText","file","reject","error","class","btnClass","clickFileUpload","btnText","ref","attrs","accept","multiple","$event","handleFiles","props","type","String","default","Boolean","inputElement","$emit","click","map","webpackContext","req","id","webpackContextResolve","Error","code","keys","collapsed","directives","rawName","expression","style","_l","link","index","nativeOn","clearAll","MenuIcon","CloseIcon","menuWidthVw","maxMenuWidthPx","minMenuWidthPx","windowWidthPx","windowStyle","left","right","menuWidthPx","menuWidth","menuLinks","$router","options","routes","filter","mounted","$nextTick","addEventListener","getWindowWidth","destroyed","removeEventListener","document","documentElement","clientWidth","dispatch","message","standardMessage","SideMenu","StatusMessage","scopedSlots","_u","fn","proxy","_t","fraction","Number","dividerSizeRem","topPartStyle","height","bottomPartStyle","dividerStyle","labelObjects","labelObjectByValue","selectedLabel","selectLabel","labelObject","deleteLabel","newLabel","allSounds","selectedSound","selectSound","deleteSound","uploadSound","returnDataUrl","forEach","console","log","startsWith","loadSound","readAsDataURL","displayRecorder","getSound","supported","recording","stop","record","timePassedFormatted","lastRecordingSound","saveAndNew","saveAndQuit","newRecording","quit","getRecorder","constraints","audio","navigator","mediaDevices","getUserMedia","then","stream","catch","webkitGetUserMedia","mozGetUserMedia","analyzeSpectrogram","buffer","hopSize","numCoefficients","normalize","val","Meyda","numberOfMFCCCoefficients","bufferSize","getChannelData","numSamples","numHops","Math","floor","spectrogram","dataSlice","features","extract","mfcc","min","max","fileToAudioBuffer","sampleRate","FileReader","arrayBuffer","AudioContext","webkitAudioContext","audioContext","decodeAudioData","audioBuffer","err","readAsArrayBuffer","dataURIToAudioBuffer","dataURI","blob","dataURItoBlob","dataURIParts","split","mimeString","byteString","atob","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","calculateMediaDuration","media","currentTime","MAX_SAFE_INTEGER","ontimeupdate","duration","hhmmss","indexOf","substr","recorder","stillWaiting","tickIntervalId","timePassed","convertTimeHHMMSS","audioUtils","processRecording","clearInterval","recEvent","setInterval","tick","start","state","saveRecording","getTracks","AudioRecorder","sound","item","selectedItem","selectItem","displayProperty","noDelete","deleteItem","Close","items","Array","event","stopImmediatePropagation","UploadSoundButton","RecordAudioButton","ItemList","nullLabelObject","label","soundsByLabel","commit","recordSound","$$selectedVal","selected","_value","$set","saveSounds","domProps","composing","selectedSoundData","datetime","spectrograms","spectrogramImage","classes","setPosition","pause","paused","staticStyle","playerId","innerLoop","baseVolumeValue","prefixCls","generateUUID","replace","v","random","toString","Date","toISOString","warn","autoPlay","loop","Play","Stop","totalDuration","uuid","isMuted","loaded","playing","progressStyle","undefined","hideVolumeSlider","volumeValue","tag","tagName","pos","getBoundingClientRect","seekPos","clientX","width","updateVolume","volume","muted","toggleVolume","play","changeLoop","download","open","mute","_computeDuration","readyState","Infinity","_handleLoaded","_handlePlayingUI","currTime","percentage","_handlePlayPause","init","getAudio","$el","querySelectorAll","beforeDestroy","VueAudio","noSoundFile","useCustomAudioPlayer","labels","watch","imageUtils","routeName","$route","tabs","VerticalSplit","Browser","SoundInspector","TopTabs","preprocessAll","isArray","overwrite","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","batchOutput","stopPreprocessAll","back","audioSource","preprocessSoundBtn","newSound","oldSound","preprocessSound","PreprocessItem","preprocessAllStopped","sleep","selectedModel","selectModel","deleteModel","newModel","created","modelIsCreated","labelsToObjects","selectLabels","createTfModel","showTrainPopup","showEvaluatePopup","trained","showPredictPopup","adjustable","localSelected","isSelected","toggle","some","toggleItem","epochsPerIteration","getModel","numLabels","imageWidth","imageHeight","numChannels","tf","add","conv2d","inputShape","kernelSize","filters","strides","activation","kernelInitializer","maxPooling2d","poolSize","flatten","dense","units","dropout","rate","compile","optimizer","rmsprop","metrics","getModelSummary","summaryLines","summary","line","prepareData","spectrogramsByLabel","obj","numClasses","X","Y","labelIndex","trainSize","trainX","reshape","trainY","train","epochs","callbacks","batchSize","fit","verbose","shuffle","validationSplit","yieldEvery","evaluate","evalYTensor","predict","array","evalYArray","trainYArray","confusionMatrix","trueLabel","predictedLabel","count","argMax","x","reduce","a","predictSpectrogram","tfModel","prediction","arraySync","scoresToLabelInfo","scores","maxIndex","iMax","arr","predictedScore","score","formatPercentage","num","round","formatLabelInfo","labelInfo","join","hasQuit","hasTfModel","modelSounds","numSpectrograms","numUnprocessedSounds","labelSpectrograms","emptyLabels","row","rowIndex","usedLabelDisplay","col","colIndex","celStyle","labelMappings","useLabel","useIndex","started","mappings","modelLabel","allLabels","usedLabel","rowTotal","backgroundColor","color","frac","preprocessFile","stopRecording","_m","postRequestUrl","hasStopped","modelReady","recordingSupported","rec","setTimeout","trainingUtils","sendPostRequest","xhr","status","onerror","setRequestHeader","send","JSON","stringify","SelectMultiple","TrainModel","EvaluateModel","PredictModel","selectedLabels","canCreateModel","selectedModelHasUnprocessedSounds","hasUnprocessedSounds","objectsToLabels","objects","modelPrompt","script","importModel","Vue","use","VueRouter","path","redirect","showInMenu","Sounds","Preprocess","Models","About","ImportExport","router","localforage","ready","driver","INDEXEDDB","alert","diskActivity","hasIndexedDB","storagePath","saveToDisk","set","setItem","removeFromDisk","removeItem","loadFromDisk","getItem","saveTfModel","save","identifier","loadTfModel","clearTfModel","removeModel","clearAllTfModels","listModels","modelPath","clearDisk","confirm","clear","namespaced","DiskIO","getLabels","getAllSounds","getSoundsByLabel","getSoundByIdentifier","find","getSelectedSound","getDiskActivity","mutations","addLabel","found","oldLabel","addSound","moment","format","uuidv4","reset","actions","context","labelPrompt","prompt","toLowerCase","trim","logFunction","checkSound","loadAll","loadSoundFile","_","getModels","getModelByIdentifier","getSelectedModel","addModel","oldModel","saveModels","Vuex","Store","config","productionTip","store","h","App","$mount","outputString","maxLines","startIndex","endIndex","firstLine","outputHolderEl","scrollTop","scrollHeight","formatOutputItem","padAndCut","overlapFraction","totalLength","overlapLength","numCuts","ceil","end","slicedSpectrogram","padLength","createImageFromSpectrogram","Uint8ClampedArray","y","canvas","createElement","ctx","getContext","idata","createImageData","putImageData","toDataURL"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,+BAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sGCvJT,IAAIyC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,MAAMnC,MAAM,OAAQ0B,EAAIS,MAAa,QAAEL,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,MAAMC,eAAe,yBAAyBV,EAAIQ,GAAGR,EAAIW,QAAQX,EAAIS,MAAMG,IAAK,IAAI,WAAWZ,EAAIQ,GAAGR,EAAIW,QAAQX,EAAIS,MAAMI,KAAM,IAAI,OAAOb,EAAIc,KAAKV,EAAG,MAAM,CAACE,YAAY,MAAMS,GAAG,CAAC,MAAQf,EAAIgB,cAAc,CAAChB,EAAIO,GAAG,uBAC3iBU,EAAkB,G,YCD+T,S,wBCQjVC,EAAY,eACd,EACAnB,EACAkB,GACA,EACA,KACA,KACA,MAIa,OAAAC,E,sECnBf,yBAAid,EAAG,G,sDCApd,yBAA0iB,EAAG,G,oCCA7iB,yBAA4gB,EAAG,G,oDCA/gB,yBAA0iB,EAAG,G,oCCA7iB,yBAA+e,EAAG,G,2YC+Clf,QACEC,WAAY,CACVC,iBAAJ,OACIC,SAAJ,OACIC,YAAJ,QAEEpF,KANF,WAOI,MAAO,CACLqF,OAAQ,KAGZC,SAAU,CACRC,OADJ,WAEM,OAAOxB,KAAKyB,OAAOC,QAAQ,sBAG/BC,QAAS,CACPC,aADJ,WAEM,IAAN,6CACM5B,KAAK6B,SAASC,EAAQ,gBAExBD,SALJ,SAKA,4EACM,OAAN,YAAM,CAAN,kCAEIE,aARJ,SAQA,cAC0B,GAAhBC,EAAMvF,QAGVuD,KAAKiC,WAAWD,EAAM,IAC5B,kBACQ,IAAR,gBACQ,EAAR,uCACU,OAAV,EACU,YAAV,YAAY,OAAZ,uBAGA,mBAAQ,OAAR,qBAEI,YAtBJ,SAsBA,8KACA,YADA,iEAIA,mBAJA,cAIA,EAJA,gBAOA,gBAEA,gBAGA,gBACA,iBACA,+BACA,OAfA,UAgBA,OACA,kBACA,gBACA,cACA,IApBA,QAgBA,EAhBA,OAuBA,4DAvBA,qDAyBA,sCAzBA,6DA4BIC,WAlDJ,SAkDA,GACM,OAAO,IAAIC,SAAQ,SAAzB,KACQ,IAAR,iBACQC,EAAOC,OAAS,SAAxB,GACUC,EAAQC,EAAEC,OAAOjF,SAEnB,IACE6E,EAAOK,WAAWC,GAC5B,SACUC,EAAOC,Y,+DC1HjB,yBAA0iB,EAAG,G,2DCA7iB,IAAI7C,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACyC,MAAM7C,EAAI8C,SAAS/B,GAAG,CAAC,MAAQf,EAAI+C,kBAAkB,CAAC/C,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIgD,SAAS,OAAO5C,EAAG,QAAQ,CAAC6C,IAAI,QAAQC,MAAM,CAAC,KAAO,OAAO,OAASlD,EAAImD,OAAO,SAAWnD,EAAIoD,UAAUrC,GAAG,CAAC,OAAS,SAASsC,GAAQ,OAAOrD,EAAIsD,uBAClarC,EAAkB,GCiBtB,GACEsC,MAAO,CACLJ,OAAQ,CACNK,KAAMC,OACNC,QAAS,WAEXN,SAAU,CACRI,KAAMG,QACND,SAAS,GAEXZ,SAAU,CACRU,KAAMC,OACNC,QAAS,OAEXV,QAAS,CACPQ,KAAMC,OACNC,QAAS,WAGbxH,KAnBF,WAoBI,MAAO,IAET0F,QAAS,CACP0B,YADJ,WAEM,IAAN,sBACgC,MAAtBM,EAAa3B,OAAiB2B,EAAa3B,MAAMvF,OAAS,GAG9DuD,KAAK4D,MAAM,QAASD,EAAa3B,QAEnCc,gBARJ,WASM,IAAN,sBACMa,EAAaE,WClDuU,I,wBCQtV5C,EAAY,eACd,EACAnB,EACAkB,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2FCnBf,IAAI6C,EAAM,CACT,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OAC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","file":"js/app.6dab6ac3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/v2_sound_classification_js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"export-model\"},[_c('div',{staticClass:\"model-property model-property-name b\"},[_vm._v(\" \"+_vm._s(_vm.model.name)+\" \")]),(_vm.model.trained)?_c('div',{staticClass:\"model-property model-property-stats\"},[_vm._v(\" \"+_vm._s(_vm.model.epochsTrained)+\" epochs trained, acc: \"+_vm._s(_vm.roundTo(_vm.model.acc, 4))+\", loss: \"+_vm._s(_vm.roundTo(_vm.model.loss, 4))+\" \")]):_vm._e(),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.exportModel}},[_vm._v(\" export model \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportModel.vue?vue&type=template&id=5efa3612&\"\nimport script from \"./ExportModel.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportModel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preprocess.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preprocess.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusMessage.vue?vue&type=style&index=0&id=67662e32&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusMessage.vue?vue&type=style&index=0&id=67662e32&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browser.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browser.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerticalSplit.vue?vue&type=style&index=0&id=6499e3e0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerticalSplit.vue?vue&type=style&index=0&id=6499e3e0&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFileButton.vue?vue&type=style&index=0&id=4e46fbfa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFileButton.vue?vue&type=style&index=0&id=4e46fbfa&scoped=true&lang=css&\"","<template>\n  <div class=\"import-export-view\">\n    <div class=\"view-title h4\">Import / Export</div>\n    <div class=\"box split-left text-center\">\n      <h4>Sounds</h4>\n      <div class=\"btn\" @click=\"exportSounds\">\n        export processed sounds\n      </div>\n      <div class=\"msg\">\n        (only the sound metadata and processed spectrograms are exported)\n      </div>\n      <upload-file-button\n        btn-text=\"upload processed sounds\"\n        btn-class=\"btn\"\n        :multiple=\"false\"\n        accept=\".blob\"\n        @files=\"importSounds\"\n      />\n      <terminal class=\"import-export-output\" :output=\"output\" />\n    </div>\n    <div class=\"box split-right text-center\">\n      <h4>Models</h4>\n      <upload-file-button\n        btn-text=\"import model\"\n        btn-class=\"btn\"\n        :multiple=\"false\"\n        accept=\".blob\"\n        @files=\"importModel\"\n      />\n      <div class=\"model-list\">\n        <export-model\n          v-for=\"(model, index) in models\"\n          :key=\"index\"\n          :model=\"model\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { saveAs } from 'file-saver'\nimport UploadFileButton from '@/components/UploadFileButton'\nimport Terminal from '@/components/Terminal'\nimport ExportModel from '@/components/ExportModel'\nimport * as tf from '@tensorflow/tfjs'\n\nexport default {\n  components: {\n    UploadFileButton,\n    Terminal,\n    ExportModel\n  },\n  data() {\n    return {\n      output: []\n    }\n  },\n  computed: {\n    models() {\n      return this.$store.getters['models/getModels']\n    }\n  },\n  methods: {\n    exportSounds() {\n      const sounds = this.$store.getters['sounds/getAllSounds']\n      this.saveData(sounds, 'sounds.blob')\n    },\n    saveData(data, name = 'data.blob') {\n      saveAs(new Blob([JSON.stringify(data)]), name)\n    },\n    importSounds(files) {\n      if (files.length == 0) {\n        return\n      }\n      this.importData(files[0])\n        .then(data => {\n          let sounds = JSON.parse(data)\n          this.$store.dispatch('sounds/importSounds', {\n            sounds,\n            logFunction: s => this.output.push(s)\n          })\n        })\n        .catch(e => this.output.push(e))\n    },\n    async importModel(files) {\n      if (files.length == 0) {\n        return\n      }\n      const modelJson = await this.importData(files[0])\n\n      try {\n        const model = JSON.parse(modelJson)\n        // get serialized tfModel from model\n        const tfModelJson = model.tfModelJson\n        // TODO clear the tfModelJson key to save storage\n        // deserialize tfModel\n        const tfModelSerialized = JSON.parse(tfModelJson)\n        const weightData = new Uint8Array(\n          Buffer.from(tfModelSerialized.weightData, 'base64')\n        ).buffer\n        const tfModel = await tf.loadLayersModel(\n          tf.io.fromMemory(\n            tfModelSerialized.modelTopology,\n            tfModelSerialized.weightSpecs,\n            weightData\n          )\n        )\n        this.$store.dispatch('models/importModel', { model, tfModel })\n      } catch {\n        console.log('Error processign model')\n      }\n    },\n    importData(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader()\n        reader.onload = e => {\n          resolve(e.target.result)\n        }\n        try {\n          reader.readAsText(file)\n        } catch (error) {\n          reject(error)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.import-export-view {\n  position: relative;\n  height: 100vh;\n}\n\n// split\n// horizontal on wide screens:\n.split-left,\n.split-right {\n  position: absolute;\n  width: calc(50% - 1.5rem);\n  height: calc(100% - 4.5rem);\n}\n.split-right {\n  right: 1rem;\n}\n// vertical on narrow screens:\n@media screen and (max-width: 800px) {\n  .split-left,\n  .split-right {\n    position: absolute;\n    height: calc(50% - 2.75rem);\n    width: calc(100% - 2rem);\n  }\n  .split-right {\n    bottom: 0;\n  }\n}\n\n.btn,\n.msg {\n  margin-bottom: 0.5rem;\n}\n.import-export-output {\n  margin: 1rem 0;\n  height: calc(100% - 13rem);\n  border-radius: 3px;\n}\n.model-list {\n  text-align: center;\n  overflow-y: scroll;\n  background: rgba(255, 255, 255, 0.5);\n  padding: 0.5rem;\n  margin: 1rem 0;\n  height: calc(100% - 6rem);\n  border-radius: 3px;\n}\n</style>\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateModel.vue?vue&type=style&index=0&id=379a36e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateModel.vue?vue&type=style&index=0&id=379a36e6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-file-component\"},[_c('div',{staticClass:\"upload-btn-wrapper\"},[_c('div',{class:_vm.btnClass,on:{\"click\":_vm.clickFileUpload}},[_vm._v(\" \"+_vm._s(_vm.btnText)+\" \")]),_c('input',{ref:\"input\",attrs:{\"type\":\"file\",\"accept\":_vm.accept,\"multiple\":_vm.multiple},on:{\"change\":function($event){return _vm.handleFiles()}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"upload-file-component\">\n    <div class=\"upload-btn-wrapper\">\n      <div :class=\"btnClass\" @click=\"clickFileUpload\">\n        {{ btnText }}\n      </div>\n      <input\n        ref=\"input\"\n        type=\"file\"\n        :accept=\"accept\"\n        :multiple=\"multiple\"\n        @change=\"handleFiles()\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    accept: {\n      type: String,\n      default: 'audio/*'\n    },\n    multiple: {\n      type: Boolean,\n      default: true\n    },\n    btnClass: {\n      type: String,\n      default: 'btn'\n    },\n    btnText: {\n      type: String,\n      default: 'upload'\n    }\n  },\n  data() {\n    return {}\n  },\n  methods: {\n    handleFiles() {\n      const inputElement = this.$refs['input']\n      if (inputElement.files == null || inputElement.files.length < 1) {\n        return\n      }\n      this.$emit('files', inputElement.files)\n    },\n    clickFileUpload() {\n      const inputElement = this.$refs['input']\n      inputElement.click()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.upload-file-component {\n  display: inline-flex;\n}\n\n.upload-btn-wrapper {\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.btn-placeholder {\n  border: none;\n  color: white;\n  background-color: #ccc;\n  font-weight: bold;\n  position: relative;\n}\n\n.upload-btn-wrapper input[type='file'] {\n  font-size: 100px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n}\n\n.placeholder-icon {\n  position: absolute;\n  font-size: 40px;\n  left: calc(50% - 20px);\n  top: calc(50% - 20px);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFileButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFileButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadFileButton.vue?vue&type=template&id=4e46fbfa&scoped=true&\"\nimport script from \"./UploadFileButton.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadFileButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadFileButton.vue?vue&type=style&index=0&id=4e46fbfa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e46fbfa\",\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=style&index=0&id=07caf9ad&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=style&index=0&id=07caf9ad&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('side-menu'),_c('status-message'),_c('router-view',{staticClass:\"router-content\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['side-menu color-off-white', _vm.collapsed ? 'collapsed' : 'showing']},[_c('div',{staticClass:\"side-menu-button\",on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[(_vm.collapsed)?_c('menu-icon',{staticClass:\"menu-icon\"}):_vm._e(),(!_vm.collapsed)?_c('close-icon',{staticClass:\"close-icon\"}):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsed),expression:\"!collapsed\"}],staticClass:\"side-menu-catch-clicks\",on:{\"click\":function($event){_vm.collapsed = true}}}),_c('div',{staticClass:\"side-menu-window theme-blue\",style:(_vm.windowStyle)},[_c('div',{staticClass:\"side-menu-header view-title h4\"},[_vm._v(\" Sound classification js \")]),_c('div',{staticClass:\"side-menu-links\"},[_vm._l((_vm.menuLinks),function(link,index){return _c('router-link',{key:index,staticClass:\"menu-link\",attrs:{\"to\":link},nativeOn:{\"click\":function($event){_vm.collapsed = true}}},[_vm._v(_vm._s(link.name))])}),_c('div',{staticClass:\"side-menu-separator\"}),_c('div',{staticClass:\"menu-link\",on:{\"click\":_vm.clearAll}},[_vm._v(\"Delete everything\")])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"['side-menu color-off-white', collapsed ? 'collapsed' : 'showing']\"\n  >\n    <div class=\"side-menu-button\" @click=\"collapsed = !collapsed\">\n      <menu-icon v-if=\"collapsed\" class=\"menu-icon\" />\n      <close-icon v-if=\"!collapsed\" class=\"close-icon\" />\n    </div>\n    <div\n      v-show=\"!collapsed\"\n      class=\"side-menu-catch-clicks\"\n      @click=\"collapsed = true\"\n    />\n    <div class=\"side-menu-window theme-blue\" :style=\"windowStyle\">\n      <div class=\"side-menu-header view-title h4\">\n        Sound classification js\n      </div>\n      <div class=\"side-menu-links\">\n        <router-link\n          v-for=\"(link, index) in menuLinks\"\n          :key=\"index\"\n          :to=\"link\"\n          class=\"menu-link\"\n          @click.native=\"collapsed = true\"\n          >{{ link.name }}</router-link\n        >\n        <div class=\"side-menu-separator\" />\n        <div class=\"menu-link\" @click=\"clearAll\">Delete everything</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MenuIcon from 'vue-material-design-icons/Menu.vue'\nimport CloseIcon from 'vue-material-design-icons/Close.vue'\n\nexport default {\n  components: {\n    MenuIcon,\n    CloseIcon\n  },\n  data() {\n    return {\n      menuWidthVw: 70,\n      maxMenuWidthPx: 500,\n      minMenuWidthPx: 350,\n      collapsed: true,\n      windowWidthPx: 0\n    }\n  },\n  computed: {\n    windowStyle() {\n      return {\n        left: this.collapsed ? `-${this.menuWidthPx}px` : '0',\n        right: this.collapsed\n          ? '100vw'\n          : `${this.windowWidthPx - this.menuWidthPx}px`\n      }\n    },\n    menuWidthPx() {\n      const menuWidth = Math.min(\n        this.menuWidthVw * 1e-2 * this.windowWidthPx,\n        this.maxMenuWidthPx\n      )\n      return menuWidth < this.minMenuWidthPx\n        ? Math.min(this.windowWidthPx, this.minMenuWidthPx)\n        : menuWidth\n    },\n    menuLinks() {\n      return this.$router.options.routes.filter(link => link.showInMenu)\n    }\n  },\n  mounted() {\n    this.$nextTick(function() {\n      window.addEventListener('resize', this.getWindowWidth)\n      this.getWindowWidth()\n    })\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.getWindowWidth)\n  },\n  methods: {\n    getWindowWidth() {\n      this.windowWidthPx = document.documentElement.clientWidth\n    },\n    clearAll() {\n      this.collapsed = true\n      this.$store.dispatch('clearAll')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.side-menu {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 100;\n}\n.side-menu.collapsed {\n  pointer-events: none;\n}\n\n.side-menu-catch-clicks {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 98;\n}\n\n.side-menu-button {\n  position: absolute;\n  z-index: 101;\n  left: calc(1rem - 2px);\n  top: calc(1.5rem - 8px);\n  transition: opacity 0.2s ease;\n  pointer-events: auto;\n}\n\n.menu-icon {\n  color: $blue-light;\n}\n\n.side-menu-window {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  padding: 1rem;\n  transition: left 0.15s ease, right 0.15s ease;\n  pointer-events: auto;\n  z-index: 99;\n}\n.side-menu-header {\n  margin-bottom: 1rem;\n}\n\n.side-menu-links {\n  margin-top: 3rem;\n}\n.menu-link {\n  margin-left: 28px;\n  display: block;\n  margin-bottom: 1rem;\n  cursor: pointer;\n}\n.side-menu-separator {\n  height: 2rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideMenu.vue?vue&type=template&id=07caf9ad&scoped=true&\"\nimport script from \"./SideMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./SideMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideMenu.vue?vue&type=style&index=0&id=07caf9ad&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07caf9ad\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['status-message', _vm.message ? '' : 'no-message']},[_vm._v(\" \"+_vm._s(_vm.message || _vm.standardMessage)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"['status-message', message ? '' : 'no-message']\">\n    {{ message || standardMessage }}\n  </div>\n</template>\n\n<script>\nconst packageVersion = PACKAGE_VERSION // eslint-disable-line\n\nexport default {\n  computed: {\n    message() {\n      return this.$store.getters['sounds/getDiskActivity']\n    },\n    standardMessage() {\n      return `v${packageVersion} all changes saved`\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables';\n\n.status-message {\n  position: absolute;\n  top: 1.25rem;\n  right: 1rem;\n  text-align: right;\n  color: $blue-light;\n}\n.status-message.no-message {\n  color: $blue-almost-white;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusMessage.vue?vue&type=template&id=67662e32&scoped=true&\"\nimport script from \"./StatusMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StatusMessage.vue?vue&type=style&index=0&id=67662e32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67662e32\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <side-menu />\n    <status-message />\n    <router-view class=\"router-content\" />\n  </div>\n</template>\n\n<script>\nimport SideMenu from '@/components/SideMenu.vue'\nimport StatusMessage from '@/components/StatusMessage'\n\nexport default {\n  name: 'Home',\n  components: {\n    SideMenu,\n    StatusMessage\n  },\n  mounted() {\n    this.$store.dispatch('loadAll')\n    // this.$store.dispatch('sounds/loadAll')\n    // this.$store.dispatch('models/loadAll')\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/main.scss';\n\nhtml,\nbody,\n#app {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n* {\n  box-sizing: border-box;\n}\n\n.router-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  padding: 1rem;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0b320cde&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sounds\"},[_c('top-tabs'),_c('div',{staticClass:\"vertical-split-holder\"},[_c('vertical-split',{attrs:{\"fraction\":0.6},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('browser')]},proxy:true},{key:\"bottom\",fn:function(){return [_c('sound-inspector')]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vertical-split\"},[_c('div',{staticClass:\"part top-part\",style:(_vm.topPartStyle)},[_vm._t(\"top\")],2),_c('div',{staticClass:\"divider\",style:(_vm.dividerStyle)}),_c('div',{staticClass:\"part bottom-part\",style:(_vm.bottomPartStyle)},[_vm._t(\"bottom\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"vertical-split\">\n    <div class=\"part top-part\" :style=\"topPartStyle\">\n      <slot name=\"top\" />\n    </div>\n    <div class=\"divider\" :style=\"dividerStyle\" />\n    <div class=\"part bottom-part\" :style=\"bottomPartStyle\">\n      <slot name=\"bottom\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    fraction: {\n      default: 0.75,\n      type: Number\n    }\n  },\n  data() {\n    return {\n      dividerSizeRem: 1\n    }\n  },\n  computed: {\n    topPartStyle() {\n      return {\n        height: `calc(${100 * this.fraction}% - ${0.5 *\n          this.dividerSizeRem}rem)`\n      }\n    },\n    bottomPartStyle() {\n      return {\n        height: `calc(${100 * (1 - this.fraction)}% - ${0.5 *\n          this.dividerSizeRem}rem)`\n      }\n    },\n    dividerStyle() {\n      return {\n        height: `${this.dividerSizeRem}rem`\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.vertical-split {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.part {\n  border-radius: 3px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerticalSplit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerticalSplit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VerticalSplit.vue?vue&type=template&id=6499e3e0&scoped=true&\"\nimport script from \"./VerticalSplit.vue?vue&type=script&lang=js&\"\nexport * from \"./VerticalSplit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VerticalSplit.vue?vue&type=style&index=0&id=6499e3e0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6499e3e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"browser text-left\"},[_c('div',{staticClass:\"browser-labels\"},[_c('div',{staticClass:\"browser-content\"},[_c('div',{staticClass:\"browser-title b\"},[_vm._v(\"labels (\"+_vm._s(_vm.labelObjects.length)+\")\")]),_c('item-list',{attrs:{\"items\":_vm.labelObjects,\"selected-item\":_vm.labelObjectByValue(_vm.selectedLabel)},on:{\"select\":_vm.selectLabel,\"delete\":function (labelObject) { return _vm.deleteLabel(labelObject.value); }}})],1),_c('div',{staticClass:\"browser-bottom-btns\"},[_c('div',{staticClass:\"btn btn-sm\",on:{\"click\":_vm.newLabel}},[_vm._v(\"new label\")])])]),_c('div',{staticClass:\"browser-sounds\"},[_c('div',{staticClass:\"browser-content\"},[_c('div',{staticClass:\"browser-title b\"},[_vm._v(\" \"+_vm._s(_vm.selectedLabel || 'unlabeled')+\" sounds (\"+_vm._s(_vm.sounds.length)+\" of \"+_vm._s(_vm.allSounds.length)+\" total) \")]),_c('item-list',{attrs:{\"items\":_vm.sounds,\"selected-item\":_vm.selectedSound},on:{\"select\":_vm.selectSound,\"delete\":_vm.deleteSound}})],1),_c('div',{staticClass:\"browser-bottom-btns\"},[_c('upload-sound-button',{attrs:{\"btn-class\":\"btn btn-sm\"},on:{\"sound\":_vm.uploadSound}}),_c('record-audio-button',{attrs:{\"btn-class\":\"btn btn-sm\",\"selected-label\":_vm.selectedLabel},on:{\"sound\":_vm.uploadSound}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('upload-file-button',{attrs:{\"multiple\":_vm.multiple,\"btn-class\":_vm.btnClass,\"accept\":\"audio/*\"},on:{\"files\":_vm.handleFiles}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <upload-file-button\n    :multiple=\"multiple\"\n    :btn-class=\"btnClass\"\n    accept=\"audio/*\"\n    @files=\"handleFiles\"\n  />\n</template>\n\n<script>\nimport UploadFileButton from '@/components/UploadFileButton'\n\nexport default {\n  components: {\n    UploadFileButton\n  },\n  props: {\n    btnClass: {\n      type: String,\n      default: 'btn'\n    },\n    multiple: {\n      type: Boolean,\n      default: true\n    },\n    returnDataUrl: {\n      type: Boolean,\n      default: true\n    }\n  },\n  methods: {\n    handleFiles(files) {\n      files.forEach(file => {\n        console.log('got file: ', file)\n        if (!file.type.startsWith('audio/')) {\n          console.log('not audio')\n        } else {\n          if (this.returnDataUrl) {\n            this.loadSound(file)\n          } else {\n            this.$emit('sound', file)\n          }\n        }\n      })\n    },\n    loadSound(file) {\n      const reader = new FileReader()\n      reader.onload = e => {\n        this.$emit('sound', {\n          name: file.name,\n          type: file.type,\n          file: e.target.result\n        })\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSoundButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSoundButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadSoundButton.vue?vue&type=template&id=90877728&\"\nimport script from \"./UploadSoundButton.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadSoundButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record-audio-button\"},[_c('div',{staticClass:\"btn btn-sm\",on:{\"click\":function($event){_vm.displayRecorder = true}}},[_vm._v(\"record\")]),(_vm.displayRecorder)?_c('audio-recorder',{attrs:{\"selected-label\":_vm.selectedLabel},on:{\"close\":function($event){_vm.displayRecorder = false},\"sound\":_vm.getSound}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"audio-recorder popup\"},[_c('div',{staticClass:\"audio-recorder-content\"},[_c('div',{staticClass:\"audio-recorder-title b\"},[_vm._v(\"record audio\")]),_c('div',{staticClass:\"audio-recorder-msg\"},[_vm._v(\" for label: \"+_vm._s(_vm.selectedLabel || 'unlabeled')+\" \")]),(!_vm.supported)?[(_vm.stillWaiting)?_c('div',{staticClass:\"audio-recordr-msg\"},[_vm._v(\" Waiting for audio recording permission... \")]):_c('div',{staticClass:\"audio-recordr-msg\"},[_vm._v(\" Audio recording is not supported in this browser or permission is denied. Make sure you allow access to the microphone or try a different browser. \")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\"close\")])]:[_c('div',{staticClass:\"audio-recorder-rec-btns\"},[(!_vm.recording)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.record}},[_vm._v(\"record\")]):_c('div',{staticClass:\"btn\",on:{\"click\":_vm.stop}},[_vm._v(\"stop\")])]),_c('div',{staticClass:\"audio-recorder-time\"},[_vm._v(\" \"+_vm._s(_vm.timePassedFormatted)+\" \")]),(!_vm.recording && _vm.lastRecordingSound)?_c('div',{staticClass:\"audio-recorder-new-btns\"},[_c('audio',{attrs:{\"controls\":\"\",\"src\":_vm.lastRecordingSound.file}}),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.saveAndNew}},[_vm._v(\"save & new\")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.saveAndQuit}},[_vm._v(\"save & close\")])]):_vm._e(),(!_vm.recording)?_c('div',{staticClass:\"audio-recorder-quit-btns\"},[(_vm.lastRecordingSound)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.newRecording}},[_vm._v(\" discard & new \")]):_vm._e(),(_vm.lastRecordingSound)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\" discard & close \")]):_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\"quit\")])]):_vm._e()]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Meyda from 'meyda'\n\nexport default {\n  getRecorder() {\n    const constraints = { audio: true }\n    return new Promise((resolve, reject) => {\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        // getUserMedia is supported normally\n        navigator.mediaDevices\n          .getUserMedia(constraints)\n          .then(stream => resolve(stream))\n          .catch(e => reject(e))\n      } else {\n        // polyfill adapted from https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n        if (!navigator.webkitGetUserMedia && !navigator.mozGetUserMedia) {\n          // no support\n          reject(\n            new Error('navigator.mediaDevices.getUserMedia is not supported.')\n          )\n        } else {\n          const getUserMedia =\n            navigator.webkitGetUserMedia || navigator.mozGetUserMedia\n          getUserMedia.call(navigator, constraints, resolve, reject)\n        }\n      }\n    })\n  },\n  analyzeSpectrogram(\n    buffer,\n    hopSize = 512,\n    numCoefficients = 40,\n    normalize = val => val / 10\n  ) {\n    Meyda.numberOfMFCCCoefficients = numCoefficients\n    Meyda.bufferSize = hopSize\n    const data = buffer.getChannelData(0)\n    const numSamples = data.length\n    const numHops = Math.floor(numSamples / hopSize)\n    const spectrogram = []\n    for (let i = 0; i < numHops; i++) {\n      const dataSlice = data.slice(i * hopSize, (i + 1) * hopSize)\n      // extract features\n      let features = Meyda.extract(['mfcc'], dataSlice).mfcc\n      // normalize and clamp to 0-1\n      features = features.map(val => Math.min(1, Math.max(normalize(val), 0)))\n      spectrogram.push(features)\n    }\n    return spectrogram\n  },\n  fileToAudioBuffer(file, sampleRate = 22050) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n      reader.onload = e => {\n        const arrayBuffer = e.target.result\n        const AudioContext = window.AudioContext || window.webkitAudioContext\n        const audioContext = new AudioContext({ sampleRate })\n        audioContext.decodeAudioData(\n          arrayBuffer,\n          audioBuffer => resolve(audioBuffer),\n          err => reject(err)\n        )\n      }\n      reader.readAsArrayBuffer(file)\n    })\n  },\n  dataURIToAudioBuffer(dataURI, sampleRate = 22050) {\n    return new Promise((resolve, reject) => {\n      const blob = this.dataURItoBlob(dataURI)\n      const reader = new FileReader()\n      reader.onload = e => {\n        const arrayBuffer = e.target.result\n        const AudioContext = window.AudioContext || window.webkitAudioContext\n        const audioContext = new AudioContext({ sampleRate })\n        audioContext.decodeAudioData(\n          arrayBuffer,\n          audioBuffer => resolve(audioBuffer),\n          err => reject(err)\n        )\n      }\n      reader.readAsArrayBuffer(blob)\n    })\n  },\n  dataURItoBlob(dataURI) {\n    // slightly modified from https://stackoverflow.com/a/12300351/8811010\n    // convert base64 to raw binary data held in a string\n    // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n    const dataURIParts = dataURI.split(',')\n    // separate out the mime component\n    const mimeString = dataURIParts[0].split(':')[1].split(';')[0]\n    // write the bytes of the string to an ArrayBuffer\n    const byteString = atob(dataURIParts[1])\n    const ab = new ArrayBuffer(byteString.length)\n    // create a view into the buffer\n    const ia = new Uint8Array(ab)\n    // set the bytes of the buffer to the correct values\n    for (let i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    // write the ArrayBuffer to a blob, and you're done\n    const blob = new Blob([ab], { type: mimeString })\n    return blob\n  },\n  calculateMediaDuration(media) {\n    // from https://stackoverflow.com/a/55093702/8811010\n    return new Promise((resolve, reject) => {\n      // set the mediaElement.currentTime  to a high value beyond its real duration\n      media.currentTime = Number.MAX_SAFE_INTEGER\n      // listen to time position change\n      media.ontimeupdate = function() {\n        media.ontimeupdate = function() {}\n        // setting player currentTime back to 0 can be buggy too, set it first to .1 sec\n        media.currentTime = 0.1\n        media.currentTime = 0\n        // media.duration should now have its correct value, return it...\n        resolve(media.duration)\n      }\n    })\n  }\n}\n","<template>\n  <div class=\"audio-recorder popup\">\n    <div class=\"audio-recorder-content\">\n      <div class=\"audio-recorder-title b\">record audio</div>\n      <div class=\"audio-recorder-msg\">\n        for label: {{ selectedLabel || 'unlabeled' }}\n      </div>\n      <template v-if=\"!supported\">\n        <div v-if=\"stillWaiting\" class=\"audio-recordr-msg\">\n          Waiting for audio recording permission...\n        </div>\n        <div v-else class=\"audio-recordr-msg\">\n          Audio recording is not supported in this browser or permission is\n          denied. Make sure you allow access to the microphone or try a\n          different browser.\n        </div>\n        <div class=\"btn\" @click=\"quit\">close</div>\n      </template>\n      <template v-else>\n        <div class=\"audio-recorder-rec-btns\">\n          <div v-if=\"!recording\" class=\"btn\" @click=\"record\">record</div>\n          <div v-else class=\"btn\" @click=\"stop\">stop</div>\n        </div>\n        <div class=\"audio-recorder-time\">\n          {{ timePassedFormatted }}\n        </div>\n        <div\n          v-if=\"!recording && lastRecordingSound\"\n          class=\"audio-recorder-new-btns\"\n        >\n          <audio controls :src=\"lastRecordingSound.file\"></audio>\n          <div class=\"btn\" @click=\"saveAndNew\">save &amp; new</div>\n          <div class=\"btn\" @click=\"saveAndQuit\">save &amp; close</div>\n        </div>\n        <div v-if=\"!recording\" class=\"audio-recorder-quit-btns\">\n          <div v-if=\"lastRecordingSound\" class=\"btn\" @click=\"newRecording\">\n            discard &amp; new\n          </div>\n          <div v-if=\"lastRecordingSound\" class=\"btn\" @click=\"quit\">\n            discard &amp; close\n          </div>\n          <div v-else class=\"btn\" @click=\"quit\">quit</div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport audioUtils from '@/utils/audioUtils'\nimport AudioRecorder from 'audio-recorder-polyfill'\nimport moment from 'moment'\n\nconst convertTimeHHMMSS = val => {\n  let hhmmss = new Date(val * 1000).toISOString().substr(11, 8)\n  return hhmmss.indexOf('00:') === 0 ? hhmmss.substr(3) : hhmmss\n}\n\nexport default {\n  props: {\n    selectedLabel: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      recorder: null,\n      supported: false,\n      stillWaiting: true,\n      recording: false,\n      lastRecordingSound: null,\n      tickIntervalId: null,\n      timePassed: 0\n    }\n  },\n  computed: {\n    timePassedFormatted() {\n      return convertTimeHHMMSS(this.timePassed)\n    }\n  },\n  mounted() {\n    // get audio recorder if supported\n    audioUtils\n      .getRecorder()\n      .then(stream => {\n        this.supported = true\n        this.recorder = new AudioRecorder(stream)\n        // when stream is stopped:\n        this.recorder.addEventListener('dataavailable', this.processRecording)\n      })\n      .catch(e => {\n        this.supported = false\n        this.stillWaiting = false\n        alert(e)\n      })\n  },\n  methods: {\n    processRecording(recEvent) {\n      this.recording = false\n      window.clearInterval(this.tickIntervalId)\n      // convert to dataUrl\n      const reader = new FileReader()\n      reader.onload = e => {\n        console.log('done encoding.')\n        this.lastRecordingSound = {\n          name: 'recording ' + moment().format('YYYY-MM-DD HH:mm:ss'),\n          type: recEvent.data.type,\n          file: e.target.result\n        }\n      }\n      console.log('start encoding...')\n      reader.readAsDataURL(recEvent.data)\n    },\n    record() {\n      this.recording = true\n      this.lastRecordingSound = null\n      this.timePassed = 0\n      this.tickIntervalId = window.setInterval(this.tick, 1000)\n      console.log('start recording...')\n      this.recorder.start()\n    },\n    stop() {\n      console.log('stop recording.')\n      if (this.recorder.state == 'recording') {\n        this.recorder.stop()\n      }\n    },\n    tick() {\n      this.timePassed++\n    },\n    saveAndNew() {\n      this.saveRecording()\n      this.newRecording()\n    },\n    saveAndQuit() {\n      this.saveRecording()\n      this.quit()\n    },\n    newRecording() {\n      this.lastRecordingSound = null\n    },\n    saveRecording() {\n      if (!this.lastRecordingSound) {\n        return\n      }\n      this.$emit('sound', this.lastRecordingSound)\n    },\n    quit() {\n      if (this.recorder) {\n        if (this.recorder.state == 'recording') {\n          this.recorder.stop()\n        }\n        // Remove “recording” icon from browser tab\n        this.recorder.stream.getTracks().forEach(i => i.stop())\n      }\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.audio-recorder-content {\n  position: absolute;\n  top: calc(50% - 200px);\n  left: calc(50% - 8rem);\n  width: 16rem;\n  height: 200px;\n  text-align: center;\n}\n.audio-recorder-title {\n  margin-bottom: 0.5rem;\n}\n.audio-recorder-msg,\n.audio-recorder-time,\n.audio-recorder-rec-btns,\n.audio-recorder-new-btns {\n  margin-bottom: 0.5rem;\n}\n.audio-recorder-content .btn {\n  width: 100%;\n  margin: 0.25rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRecorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRecorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioRecorder.vue?vue&type=template&id=7b9b5426&scoped=true&\"\nimport script from \"./AudioRecorder.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioRecorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AudioRecorder.vue?vue&type=style&index=0&id=7b9b5426&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9b5426\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"record-audio-button\">\n    <div class=\"btn btn-sm\" @click=\"displayRecorder = true\">record</div>\n    <audio-recorder\n      v-if=\"displayRecorder\"\n      :selected-label=\"selectedLabel\"\n      @close=\"displayRecorder = false\"\n      @sound=\"getSound\"\n    />\n  </div>\n</template>\n\n<script>\nimport AudioRecorder from '@/components/AudioRecorder'\n\nexport default {\n  components: {\n    AudioRecorder\n  },\n  props: {\n    selectedLabel: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      displayRecorder: false\n    }\n  },\n  methods: {\n    getSound(sound) {\n      console.log('got sound, passing through...')\n      this.$emit('sound', sound)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.record-audio-button {\n  display: inline-flex;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordAudioButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordAudioButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecordAudioButton.vue?vue&type=template&id=5f3d6ec4&scoped=true&\"\nimport script from \"./RecordAudioButton.vue?vue&type=script&lang=js&\"\nexport * from \"./RecordAudioButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecordAudioButton.vue?vue&type=style&index=0&id=5f3d6ec4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f3d6ec4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-list scroll\"},_vm._l((_vm.items),function(item,index){return _c('div',{key:index,class:[\n      'item-list-item',\n      _vm.selectedItem == item ? 'selected' : 'not-selected'\n    ],on:{\"click\":function($event){return _vm.selectItem(item)}}},[_vm._v(\" \"+_vm._s(item[_vm.displayProperty])+\" \"),(!item.noDelete)?_c('div',{staticClass:\"item-delete\",on:{\"click\":function($event){return _vm.deleteItem(item, $event)}}},[_c('close',{attrs:{\"size\":12}})],1):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"item-list scroll\">\n    <div\n      v-for=\"(item, index) in items\"\n      :key=\"index\"\n      :class=\"[\n        'item-list-item',\n        selectedItem == item ? 'selected' : 'not-selected'\n      ]\"\n      @click=\"selectItem(item)\"\n    >\n      {{ item[displayProperty] }}\n      <div\n        v-if=\"!item.noDelete\"\n        class=\"item-delete\"\n        @click=\"deleteItem(item, $event)\"\n      >\n        <close :size=\"12\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Close from 'vue-material-design-icons/Close.vue'\n\nexport default {\n  components: {\n    Close\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    selectedItem: {\n      type: Object,\n      default: null\n    },\n    displayProperty: {\n      type: String,\n      default: 'name'\n    }\n  },\n  methods: {\n    selectItem(item) {\n      if (this.selectedItem != item) {\n        this.$emit('select', item)\n      }\n    },\n    deleteItem(item, event) {\n      console.log(event)\n      event.stopImmediatePropagation()\n      this.$emit('delete', item)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.item-list.scroll {\n  height: calc(100% - 2rem);\n  overflow-x: hidden;\n  overflow-y: scroll;\n  margin-top: 0.5rem;\n}\n.item-delete {\n  position: absolute;\n  background-color: $blue-light;\n  color: #fff;\n  top: calc(0.5rem - 3px);\n  right: 3px;\n  border-radius: 3px;\n  height: 12px;\n}\n.item-delete > span {\n  line-height: 15px;\n  vertical-align: top;\n}\n.item-delete > span > svg {\n  vertical-align: text-top;\n}\n.item-list-item {\n  height: 1.3rem;\n  overflow: hidden;\n  white-space: nowrap;\n  position: relative;\n}\n.item-list-item.selected {\n  cursor: default;\n  color: $blue;\n  background: $white;\n  border-radius: 3px;\n}\n.item-list-item.not-selected {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=5b24e9d2&scoped=true&\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemList.vue?vue&type=style&index=0&id=5b24e9d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b24e9d2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"browser text-left\">\n    <div class=\"browser-labels\">\n      <div class=\"browser-content\">\n        <div class=\"browser-title b\">labels ({{ labelObjects.length }})</div>\n        <item-list\n          :items=\"labelObjects\"\n          :selected-item=\"labelObjectByValue(selectedLabel)\"\n          @select=\"selectLabel\"\n          @delete=\"labelObject => deleteLabel(labelObject.value)\"\n        />\n      </div>\n      <div class=\"browser-bottom-btns\">\n        <div class=\"btn btn-sm\" @click=\"newLabel\">new label</div>\n      </div>\n    </div>\n    <div class=\"browser-sounds\">\n      <div class=\"browser-content\">\n        <div class=\"browser-title b\">\n          {{ selectedLabel || 'unlabeled' }} sounds ({{ sounds.length }} of\n          {{ allSounds.length }} total)\n        </div>\n        <item-list\n          :items=\"sounds\"\n          :selected-item=\"selectedSound\"\n          @select=\"selectSound\"\n          @delete=\"deleteSound\"\n        />\n      </div>\n      <div class=\"browser-bottom-btns\">\n        <upload-sound-button btn-class=\"btn btn-sm\" @sound=\"uploadSound\" />\n        <record-audio-button\n          btn-class=\"btn btn-sm\"\n          :selected-label=\"selectedLabel\"\n          @sound=\"uploadSound\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UploadSoundButton from '@/components/UploadSoundButton'\nimport RecordAudioButton from '@/components/RecordAudioButton'\nimport ItemList from '@/components/ItemList'\n\nexport default {\n  components: {\n    UploadSoundButton,\n    RecordAudioButton,\n    ItemList\n  },\n  data() {\n    return {\n      selectedLabel: null,\n      nullLabelObject: {\n        name: `unlabeled (${this.soundsByLabel(null).length})`,\n        value: null,\n        noDelete: true\n      }\n    }\n  },\n  computed: {\n    labelObjects() {\n      return [\n        this.nullLabelObject,\n        ...this.$store.getters['sounds/getLabels'].map(label => ({\n          name: `${label} (${this.soundsByLabel(label).length})`,\n          value: label\n        }))\n      ]\n    },\n    sounds() {\n      return this.soundsByLabel(this.selectedLabel)\n    },\n    allSounds() {\n      return this.$store.getters['sounds/getAllSounds']\n    },\n    selectedSound() {\n      return this.$store.getters['sounds/getSelectedSound']\n    }\n  },\n  methods: {\n    newLabel() {\n      this.$store\n        .dispatch('sounds/newLabel')\n        .then(label => (this.selectedLabel = label || this.selectedLabel))\n    },\n    deleteLabel(label) {\n      this.$store.commit('sounds/deleteLabel', label)\n      this.selectedLabel = null\n    },\n    selectLabel(labelObject) {\n      this.selectedLabel = labelObject.value\n      this.selectSound(null)\n    },\n    labelObjectByValue(label) {\n      return (\n        this.labelObjects.find(labelObject => labelObject.value == label) ||\n        this.nullLabelObject\n      )\n    },\n    uploadSound(sound) {\n      this.$store.commit('sounds/addSound', {\n        label: this.selectedLabel,\n        ...sound\n      })\n    },\n    recordSound() {\n      console.log('record')\n    },\n    deleteSound(sound) {\n      this.$store.commit('sounds/deleteSound', sound)\n    },\n    soundsByLabel(label) {\n      return this.$store.getters['sounds/getSoundsByLabel'](label)\n    },\n    selectSound(sound) {\n      this.$store.commit('sounds/selectSound', sound)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/variables.scss';\n\n.browser {\n  height: 100%;\n  position: relative;\n}\n.browser-content {\n  height: calc(100% - 2.5rem);\n  position: relative;\n}\n.browser-bottom-btns {\n  position: absolute;\n  bottom: 0.5rem;\n}\n\n.browser-labels,\n.browser-sounds {\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  background-color: $blue-almost-white;\n  padding: 0.5rem;\n  border-radius: 3px;\n}\n.browser-labels {\n  width: calc(33% - 0.5rem);\n}\n.browser-sounds {\n  width: calc(67% - 0.5rem);\n  left: calc(33% + 0.5rem);\n}\n.browser-labels > .scroll,\n.browser-sounds > .scroll {\n  height: calc(100% - 1rem);\n  width: 100%;\n  overflow-x: hidden;\n  position: absolute;\n  overflow-y: scroll;\n}\n.browser-item-delete {\n  position: absolute;\n  background-color: $blue-light;\n  color: #fff;\n  top: calc(0.5rem - 3px);\n  right: 0px;\n  border-radius: 3px;\n  height: 12px;\n  box-shadow: 0px 0px 2px 3px $blue-almost-white;\n}\n.browser-item-delete > span {\n  line-height: 15px;\n  vertical-align: top;\n}\n.browser-scroll {\n  height: calc(100% - 2rem);\n  overflow-x: hidden;\n  overflow-y: scroll;\n  margin-top: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Browser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Browser.vue?vue&type=template&id=2971ad7b&\"\nimport script from \"./Browser.vue?vue&type=script&lang=js&\"\nexport * from \"./Browser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Browser.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sound-inspector\"},[(_vm.selectedSound != null)?_c('div',{staticClass:\"sound-inspector-content\"},[_c('div',{staticClass:\"sound-inspector-part left\"},[_c('div',{staticClass:\"sound-property sound-label\"},[_c('div',{staticClass:\"sound-property-label\"},[_vm._v(\"label\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedSound.label),expression:\"selectedSound.label\"}],staticClass:\"wide\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.selectedSound, \"label\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.saveSounds]}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"unlabeled\")]),_vm._l((_vm.labels),function(label,index){return _c('option',{key:index,domProps:{\"value\":label}},[_vm._v(_vm._s(label))])})],2)]),_c('div',{staticClass:\"sound-property sound-name\"},[_c('div',{staticClass:\"sound-property-label\"},[_vm._v(\"name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedSound.name),expression:\"selectedSound.name\"}],staticClass:\"wide\",domProps:{\"value\":(_vm.selectedSound.name)},on:{\"change\":_vm.saveSounds,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.selectedSound, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"sound-inspector-part right\"},[(_vm.noSoundFile)?[_c('div',{staticClass:\"sound-property-label sound-player-msg\"},[_vm._v(\" no sound file \")])]:(_vm.selectedSoundData)?[_c('div',{staticClass:\"sound-property-label\"},[_vm._v(\" play \")]),(_vm.useCustomAudioPlayer)?[_c('vue-audio',{staticClass:\"sound-player\",attrs:{\"file\":_vm.selectedSoundData}})]:[_c('audio',{attrs:{\"controls\":\"\",\"src\":_vm.selectedSoundData}})]]:[_c('div',{staticClass:\"sound-property-label sound-player-msg\"},[_vm._v(\" loading sound... \")])],_c('div',{staticClass:\"sound-property sound-datetime\"},[_c('span',{staticClass:\"sound-property-label\"},[_vm._v(\"added \")]),_c('span',[_vm._v(_vm._s(_vm.selectedSound.datetime))])]),_c('div',{staticClass:\"sound-property sound-type\"},[_c('span',{staticClass:\"sound-property-label\"},[_vm._v(\"type: \")]),_c('span',[_vm._v(_vm._s(_vm.selectedSound.type))])]),_c('div',{staticClass:\"sound-property sound-preprocessed\"},[(_vm.selectedSound.spectrograms)?[_c('span',{staticClass:\"sound-property-label\"},[_vm._v(_vm._s(_vm.selectedSound.spectrograms.length)+\" spectrograms \")]),_c('div',{staticClass:\"spectrograms-holder\"},_vm._l((_vm.selectedSound.spectrograms),function(spectrogram,index){return _c('img',{key:index,attrs:{\"src\":_vm.spectrogramImage(spectrogram)}})}),0)]:[_c('span',{staticClass:\"sound-property-label\"},[_vm._v(\"Not preprocessed \")]),_c('div',{staticClass:\"btn btn-sm\",on:{\"click\":function($event){return _vm.$router.push(\"/preprocess\")}}},[_vm._v(\" preprocess \")])]],2)],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(_vm.classes + \"-wrapper\")},[_c('div',{class:(_vm.classes + \"__player\")},[_c('div',{class:(_vm.classes + \"__playback-time-wrapper\"),attrs:{\"title\":\"Time played : Total time\"},on:{\"click\":_vm.setPosition}},[_c('div',{class:(_vm.classes + \"__playback-time-indicator\"),style:(_vm.progressStyle)})]),_c('div',{class:(_vm.classes + \"__player-controls\")},[_c('a',{attrs:{\"title\":\"Stop\"},on:{\"click\":function($event){return _vm.stop()}}},[_c('stop',{staticClass:\"color-blue\"})],1),_c('a',{attrs:{\"title\":\"Play\"},on:{\"click\":function($event){return _vm.pause()}}},[_c('play',{class:['color-blue', _vm.paused ? '' : 'op-50']})],1)]),_c('div',{class:(_vm.classes + \"__time-display\")},[_c('span',{class:(_vm.classes + \"__playback-time-current\")},[_vm._v(_vm._s(_vm.currentTime))]),_c('span',{class:(_vm.classes + \"__playback-time-separator\")}),_c('span',{class:(_vm.classes + \"__playback-time-total\")},[_vm._v(_vm._s(_vm.duration))])])]),_c('audio',{ref:\"audiofile\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.playerId,\"loop\":_vm.innerLoop,\"src\":_vm.file,\"preload\":\"auto\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Play from 'vue-material-design-icons/Play.vue'\nimport Stop from 'vue-material-design-icons/Stop.vue'\n\nexport const baseVolumeValue = 7.5\nexport const prefixCls = 'vue-sound'\n\nexport const generateUUID = () => {\n  return 'xxxxxxxx-xxxx-4xxx'.replace(/[xy]/g, function(c) {\n    let v, r\n    r = (Math.random() * 16) | 0\n    v = c === 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport const convertTimeHHMMSS = val => {\n  try {\n    let hhmmss = new Date(val * 1000).toISOString().substr(11, 8)\n    return hhmmss.indexOf('00:') === 0 ? hhmmss.substr(3) : hhmmss\n  } catch (err) {\n    console.warn('Error converting time value:', val)\n    console.warn(err)\n  }\n}\n\nexport default {\n  name: 'vue-audio',\n  props: {\n    file: {\n      type: String,\n      default: null\n    },\n    autoPlay: {\n      type: Boolean,\n      default: false\n    },\n    loop: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    Play,\n    Stop\n  },\n  computed: {\n    duration: function() {\n      console.log('computing duration', this.totalDuration)\n      return this.audio ? convertTimeHHMMSS(this.totalDuration) : ''\n    },\n    playerId: function() {\n      return 'player-' + this.uuid\n    },\n    classes: function() {\n      return prefixCls\n    }\n  },\n  data() {\n    return {\n      isMuted: false,\n      loaded: false,\n      playing: false,\n      paused: true,\n      progressStyle: '',\n      currentTime: '00:00',\n      uuid: '0',\n      innerLoop: undefined,\n      audio: undefined,\n      totalDuration: 0,\n      hideVolumeSlider: false,\n      volumeValue: baseVolumeValue\n    }\n  },\n  methods: {\n    setPosition: function name(e) {\n      let tag = e.target\n      if (this.paused) return\n\n      if (e.target.tagName === 'SPAN') {\n        return\n      }\n      const pos = tag.getBoundingClientRect()\n      const seekPos = (e.clientX - pos.left) / pos.width\n      this.audio.currentTime = this.audio.duration * seekPos\n    },\n    updateVolume: function() {\n      this.hideVolumeSlider = false\n      this.audio.volume = this.volumeValue / 100\n      if (this.volumeValue / 100 > 0) {\n        this.isMuted = this.audio.muted = false\n      }\n\n      if (this.volumeValue / 100 === 0) {\n        this.isMuted = this.audio.muted = true\n      }\n    },\n    toggleVolume: function() {\n      this.hideVolumeSlider = true\n    },\n    stop: function() {\n      this.playing = false\n      this.paused = true\n      this.audio.pause()\n      this.audio.currentTime = 0\n    },\n    play: function() {\n      if (this.playing && !this.paused) return\n      this.paused = false\n      this.audio.play()\n      this.playing = true\n    },\n    pause: function() {\n      this.paused = !this.paused\n      this.paused ? this.audio.pause() : this.audio.play()\n    },\n    changeLoop: function() {\n      this.innerLoop = !this.innerLoop\n    },\n    download: function() {\n      this.stop()\n      window.open(this.file, 'download')\n    },\n    mute: function() {\n      this.isMuted = !this.isMuted\n      this.audio.muted = this.isMuted\n      this.volumeValue = this.isMuted ? 0 : 75\n    },\n    _computeDuration: function() {\n      if (this.audio.readyState >= 2 && this.audio.duration != Infinity) {\n        this.totalDuration = this.audio.duration\n      }\n    },\n    _handleLoaded: function() {\n      if (this.audio.readyState >= 2) {\n        if (this.autoPlay) this.play()\n        this.loaded = true\n      } else {\n        throw new Error('Failed to load sound file')\n      }\n    },\n    _handlePlayingUI: function(e) {\n      let currTime = this.audio.currentTime\n      let percentage = (currTime / this.totalDuration) * 100\n      this.progressStyle = `width:${percentage}%;`\n      this.currentTime = convertTimeHHMMSS(currTime)\n    },\n    _handlePlayPause: function(e) {\n      if (\n        e.type === 'pause' &&\n        this.paused === false &&\n        this.playing === false\n      ) {\n        this.progressStyle = `width:0%;`\n        this.currentTime = '00:00'\n        this.paused = true\n      }\n    },\n    init: function() {\n      this.audio.addEventListener('timeupdate', this._handlePlayingUI)\n      this.audio.addEventListener('loadeddata', this._handleLoaded)\n      this.audio.addEventListener('loadeddata', this._computeDuration)\n      this.audio.addEventListener('durationchange', this._computeDuration)\n      this.audio.addEventListener('pause', this._handlePlayPause)\n      this.audio.addEventListener('play', this._handlePlayPause)\n    },\n    getAudio: function() {\n      return this.$el.querySelectorAll('audio')[0]\n    }\n  },\n  mounted: function() {\n    console.log('mounted')\n    this.uuid = generateUUID()\n    this.audio = this.getAudio()\n    this.innerLoop = this.loop\n    this.init()\n  },\n  beforeDestroy: function() {\n    this.audio.removeEventListener('timeupdate', this._handlePlayingUI)\n    this.audio.removeEventListener('loadeddata', this._handleLoaded)\n    this.audio.removeEventListener('loadeddata', this._computeDuration)\n    this.audio.removeEventListener('durationchange', this._computeDuration)\n    this.audio.removeEventListener('pause', this._handlePlayPause)\n    this.audio.removeEventListener('play', this._handlePlayPause)\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./vueaudio.plugin.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./vueaudio.plugin.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueAudio.vue?vue&type=template&id=7ef45ec8&scoped=true&\"\nimport script from \"./vueaudio.plugin.js?vue&type=script&lang=js&\"\nexport * from \"./vueaudio.plugin.js?vue&type=script&lang=js&\"\nimport style0 from \"./VueAudio.vue?vue&type=style&index=0&id=7ef45ec8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef45ec8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"sound-inspector\">\n    <div v-if=\"selectedSound != null\" class=\"sound-inspector-content\">\n      <div class=\"sound-inspector-part left\">\n        <div class=\"sound-property sound-label\">\n          <div class=\"sound-property-label\">label</div>\n          <select\n            v-model=\"selectedSound.label\"\n            class=\"wide\"\n            @change=\"saveSounds\"\n          >\n            <option :value=\"null\">unlabeled</option>\n            <option\n              v-for=\"(label, index) in labels\"\n              :key=\"index\"\n              :value=\"label\"\n              >{{ label }}</option\n            >\n          </select>\n        </div>\n        <div class=\"sound-property sound-name\">\n          <div class=\"sound-property-label\">name</div>\n          <input\n            v-model=\"selectedSound.name\"\n            class=\"wide\"\n            @change=\"saveSounds\"\n          />\n        </div>\n      </div>\n      <div class=\"sound-inspector-part right\">\n        <template v-if=\"noSoundFile\">\n          <div class=\"sound-property-label sound-player-msg\">\n            no sound file\n          </div>\n        </template>\n        <template v-else-if=\"selectedSoundData\">\n          <div class=\"sound-property-label\">\n            play\n          </div>\n          <template v-if=\"useCustomAudioPlayer\">\n            <vue-audio class=\"sound-player\" :file=\"selectedSoundData\" />\n          </template>\n          <template v-else>\n            <audio controls :src=\"selectedSoundData\"></audio>\n          </template>\n        </template>\n        <template v-else>\n          <div class=\"sound-property-label sound-player-msg\">\n            loading sound...\n          </div>\n        </template>\n        <div class=\"sound-property sound-datetime\">\n          <span class=\"sound-property-label\">added </span>\n          <span>{{ selectedSound.datetime }}</span>\n        </div>\n        <div class=\"sound-property sound-type\">\n          <span class=\"sound-property-label\">type: </span>\n          <span>{{ selectedSound.type }}</span>\n        </div>\n        <div class=\"sound-property sound-preprocessed\">\n          <template v-if=\"selectedSound.spectrograms\">\n            <span class=\"sound-property-label\"\n              >{{ selectedSound.spectrograms.length }} spectrograms\n            </span>\n            <div class=\"spectrograms-holder\">\n              <img\n                v-for=\"(spectrogram, index) in selectedSound.spectrograms\"\n                :key=\"index\"\n                :src=\"spectrogramImage(spectrogram)\"\n              />\n            </div>\n          </template>\n          <template v-else>\n            <span class=\"sound-property-label\">Not preprocessed </span>\n            <div class=\"btn btn-sm\" @click=\"$router.push(`/preprocess`)\">\n              preprocess\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueAudio from '@/components/VueAudio/VueAudio'\nimport imageUtils from '@/utils/imageUtils'\n\nexport default {\n  components: {\n    VueAudio\n  },\n  data() {\n    return {\n      selectedSoundData: null,\n      noSoundFile: false,\n      useCustomAudioPlayer: false\n    }\n  },\n  computed: {\n    selectedSound() {\n      return this.$store.getters['sounds/getSelectedSound']\n    },\n    labels() {\n      return this.$store.getters['sounds/getLabels']\n    }\n  },\n  watch: {\n    selectedSound(sound) {\n      this.selectedSoundData = null\n      if (sound != null) {\n        if (sound.noSoundFile) {\n          this.noSoundFile = true\n        } else {\n          this.$store\n            .dispatch('sounds/loadSoundFile', sound)\n            .then(file => (this.selectedSoundData = file))\n            .catch(err => {\n              console.log(err)\n              this.selectedSoundData = null\n            })\n        }\n      }\n    }\n  },\n  methods: {\n    saveSounds() {\n      this.$store.dispatch('sounds/saveSounds')\n    },\n    spectrogramImage(spectrogram) {\n      return imageUtils.createImageFromSpectrogram(spectrogram)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n$splitLeft: 33%;\n$splitRight: 67%;\n\n.sound-inspector {\n  height: 100%;\n}\n.sound-inspector-content {\n  height: 100%;\n}\n.sound-inspector,\n.sound-inspector-content {\n  text-align: left;\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  background-color: $blue-almost-white;\n  padding: 0.5rem;\n  border-radius: 3px;\n}\n.sound-inspector-part {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.sound-inspector-part.left {\n  width: calc(#{$splitLeft} - 0.5rem);\n  left: 0;\n}\n.sound-inspector-part.right {\n  width: calc(#{$splitRight} - 0.5rem);\n  left: calc(#{$splitLeft} + 0.5rem);\n}\n.sound-property {\n  margin-bottom: 0.25rem;\n}\n.sound-property-label {\n  opacity: 0.5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoundInspector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoundInspector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoundInspector.vue?vue&type=template&id=68b80bff&scoped=true&\"\nimport script from \"./SoundInspector.vue?vue&type=script&lang=js&\"\nexport * from \"./SoundInspector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SoundInspector.vue?vue&type=style&index=0&id=68b80bff&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68b80bff\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-tabs\"},_vm._l((_vm.tabs),function(routeName,index){return _c('div',{key:index,class:['tab', _vm.$route.name == routeName ? 'active' : 'inactive'],on:{\"click\":function($event){_vm.$route.name != routeName && _vm.$router.push({ name: routeName })}}},[_vm._v(\" \"+_vm._s(routeName)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"top-tabs\">\n    <div\n      v-for=\"(routeName, index) in tabs\"\n      :key=\"index\"\n      :class=\"['tab', $route.name == routeName ? 'active' : 'inactive']\"\n      @click=\"$route.name != routeName && $router.push({ name: routeName })\"\n    >\n      {{ routeName }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tabs: ['Sounds', 'Preprocess', 'Models'] // correspond to route names\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.top-tabs {\n  position: relative;\n  height: 1rem;\n  margin-left: calc(28px - 0.25rem);\n  text-align: left;\n}\n.tab {\n  margin: -0.1rem 0 0;\n  padding: 0.25rem 0.5rem;\n  display: inline-block;\n  background: rgba(0, 0, 0, 0);\n}\n.tab.active {\n  font-weight: 700;\n  color: $blue;\n}\n.tab.inactive {\n  font-weight: 400;\n  opacity: 0.5;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopTabs.vue?vue&type=template&id=f11c419c&scoped=true&\"\nimport script from \"./TopTabs.vue?vue&type=script&lang=js&\"\nexport * from \"./TopTabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopTabs.vue?vue&type=style&index=0&id=f11c419c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f11c419c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"sounds\">\n    <top-tabs />\n    <div class=\"vertical-split-holder\">\n      <vertical-split :fraction=\"0.6\">\n        <template v-slot:top>\n          <browser />\n        </template>\n        <template v-slot:bottom>\n          <sound-inspector />\n        </template>\n      </vertical-split>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VerticalSplit from '@/components/VerticalSplit'\nimport Browser from '@/components/Browser'\nimport SoundInspector from '@/components/SoundInspector'\nimport TopTabs from '@/components/TopTabs.vue'\n\nexport default {\n  name: 'Sounds',\n  components: {\n    VerticalSplit,\n    Browser,\n    SoundInspector,\n    TopTabs\n  }\n}\n</script>\n\n<style scoped>\n.sounds {\n  padding-bottom: 1rem;\n}\n.vertical-split-holder {\n  margin-top: 1rem;\n  height: calc(100% - 3rem);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sounds.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sounds.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sounds.vue?vue&type=template&id=b22fd59a&scoped=true&\"\nimport script from \"./Sounds.vue?vue&type=script&lang=js&\"\nexport * from \"./Sounds.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sounds.vue?vue&type=style&index=0&id=b22fd59a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b22fd59a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"preprocess-view\"},[_c('top-tabs'),_c('div',{staticClass:\"box text-center\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.preprocessAll}},[_vm._v(\"preprocess all\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.overwrite),expression:\"overwrite\"}],attrs:{\"id\":\"overwrite_check\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.overwrite)?_vm._i(_vm.overwrite,null)>-1:(_vm.overwrite)},on:{\"change\":function($event){var $$a=_vm.overwrite,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.overwrite=$$a.concat([$$v]))}else{$$i>-1&&(_vm.overwrite=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.overwrite=$$c}}}}),_c('label',{attrs:{\"for\":\"overwrite_check\"}},[_vm._v(\"Overwrite existing\")])]),(_vm.batchOutput && _vm.batchOutput.length > 0)?[_c('div',{staticClass:\"preprocess-output-holder box\"},[_c('terminal',{staticClass:\"preprocess-output\",attrs:{\"output\":_vm.batchOutput}}),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.stopPreprocessAll}},[_vm._v(\"stop\")])],1)]:[_c('preprocess-item',{staticClass:\"preprocess-item\",attrs:{\"sound\":_vm.sound}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"preprocess-item box h-100\"},[_c('div',{staticClass:\"btn btn-sm back-btn \",on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"back\")]),(!_vm.sound)?[_vm._v(\" Select a sound in the \"),_c('router-link',{attrs:{\"to\":\"/sounds\"}},[_vm._v(\"sounds\")]),_vm._v(\" window to preprocess \")]:[(!_vm.audioSource && !_vm.noSoundFile)?[_vm._v(\" loading sound... \")]:[(_vm.audioSource)?_c('div',{staticClass:\"audio-preview\"},[_c('div',{attrs:{\"clas\":\"preprocess-item-sound-name\"}},[_vm._v(\" \"+_vm._s(_vm.sound.name)+\" \")]),_c('div',{attrs:{\"clas\":\"preprocess-item-sound-datetime\"}},[_vm._v(\" \"+_vm._s(_vm.sound.datetime)+\" \")]),_c('audio',{ref:\"audio\",attrs:{\"controls\":\"\",\"preload\":\"auto\",\"src\":_vm.audioSource}})]):_vm._e(),(\n          !_vm.noSoundFile &&\n            (!_vm.sound.spectrograms || _vm.sound.spectrograms.length == 0)\n        )?[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.preprocessSoundBtn}},[_vm._v(\"preprocess\")])]:[_c('div',{staticClass:\"spectrograms-info\"},[_vm._v(\" \"+_vm._s(_vm.sound.spectrograms.length)+\" spectrograms (\"+_vm._s(_vm.sound.spectrograms.length * 4)+\" s) \")]),_c('div',{staticClass:\"spectrograms-holder\"},_vm._l((_vm.sound.spectrograms),function(spectrogram,index){return _c('img',{key:index,attrs:{\"src\":_vm.spectrogramImage(spectrogram)}})}),0),(!_vm.noSoundFile)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.preprocessSoundBtn}},[_vm._v(\" preprocess again \")]):_vm._e()]]]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"preprocess-item box h-100\">\n    <div class=\"btn btn-sm back-btn \" @click=\"$router.back()\">back</div>\n    <template v-if=\"!sound\">\n      Select a sound in the\n      <router-link to=\"/sounds\">sounds</router-link> window to preprocess\n    </template>\n    <template v-else>\n      <template v-if=\"!audioSource && !noSoundFile\">\n        loading sound...\n      </template>\n      <template v-else>\n        <div v-if=\"audioSource\" class=\"audio-preview\">\n          <div clas=\"preprocess-item-sound-name\">\n            {{ sound.name }}\n          </div>\n          <div clas=\"preprocess-item-sound-datetime\">\n            {{ sound.datetime }}\n          </div>\n          <audio ref=\"audio\" controls preload=\"auto\" :src=\"audioSource\"></audio>\n        </div>\n        <!-- spectrograms: -->\n        <template\n          v-if=\"\n            !noSoundFile &&\n              (!sound.spectrograms || sound.spectrograms.length == 0)\n          \"\n        >\n          <div class=\"btn\" @click=\"preprocessSoundBtn\">preprocess</div>\n        </template>\n        <template v-else>\n          <div class=\"spectrograms-info\">\n            {{ sound.spectrograms.length }} spectrograms ({{\n              sound.spectrograms.length * 4\n            }}\n            s)\n          </div>\n          <div class=\"spectrograms-holder\">\n            <img\n              v-for=\"(spectrogram, index) in sound.spectrograms\"\n              :key=\"index\"\n              :src=\"spectrogramImage(spectrogram)\"\n            />\n          </div>\n          <div v-if=\"!noSoundFile\" class=\"btn\" @click=\"preprocessSoundBtn\">\n            preprocess again\n          </div>\n        </template>\n        <!-- end spectrograms -->\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nimport audioUtils from '@/utils/audioUtils'\nimport imageUtils from '@/utils/imageUtils'\n\nexport default {\n  props: {\n    sound: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      audioSource: null,\n      noSoundFile: false,\n      spectrograms: []\n    }\n  },\n  watch: {\n    sound(newSound, oldSound) {\n      if (newSound != oldSound) this.loadSound()\n    }\n  },\n  mounted() {\n    this.loadSound(this.sound)\n      .then(audioSource => {\n        this.audioSource = audioSource\n      })\n      .catch(e => console.log(e))\n  },\n  methods: {\n    preprocessSoundBtn() {\n      this.preprocessSound(this.audioSource, this.sound).catch(e => alert(e))\n    },\n    loadSound(sound) {\n      return new Promise((resolve, reject) => {\n        // check if a sound is selected\n        if (sound == null) {\n          reject(new Error('no sound selected'))\n        } else {\n          if (sound.noSoundFile) {\n            this.noSoundFile = true\n          } else {\n            this.$store\n              .dispatch('sounds/loadSoundFile', sound)\n              .then(audioSource => resolve(audioSource))\n          }\n        }\n      })\n    },\n    preprocessSound(audioSource, sound) {\n      return new Promise((resolve, reject) => {\n        if (!audioSource) {\n          reject(new Error('no audioSource'))\n        } else {\n          this.$set(sound, 'spectrograms', null)\n          audioUtils\n            .dataURIToAudioBuffer(audioSource)\n            .then(audioBuffer => {\n              let completeSpectrogram, spectrograms\n              try {\n                completeSpectrogram = audioUtils.analyzeSpectrogram(audioBuffer)\n                spectrograms = imageUtils.padAndCut(completeSpectrogram)\n              } catch (e) {\n                alert(e)\n              }\n\n              // save spectrograms on sound\n              this.$set(sound, 'spectrograms', spectrograms)\n              this.$store.dispatch('sounds/saveSounds')\n              resolve(spectrograms)\n            })\n            .catch(err => reject(err))\n        }\n      })\n    },\n    spectrogramImage(spectrogram) {\n      return imageUtils.createImageFromSpectrogram(spectrogram)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.preprocess-item {\n  position: relative;\n}\n.back-btn {\n  position: absolute;\n  right: 0.5rem;\n  bottom: 0.5rem;\n  margin: 0;\n}\n.spectrograms-info {\n  margin-bottom: 0.5rem;\n}\n.spectrograms-holder {\n  width: 100%;\n  height: 50%;\n  overflow: scroll;\n  padding: 0.5rem;\n  background-color: #fff;\n  border-radius: 3px;\n  margin-bottom: 0.5rem;\n}\n.spectrograms-holder > img {\n  margin: 0.25rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreprocessItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreprocessItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreprocessItem.vue?vue&type=template&id=125df713&scoped=true&\"\nimport script from \"./PreprocessItem.vue?vue&type=script&lang=js&\"\nexport * from \"./PreprocessItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreprocessItem.vue?vue&type=style&index=0&id=125df713&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"125df713\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"preprocess-view\">\n    <top-tabs />\n    <div class=\"box text-center\">\n      <div class=\"btn\" @click=\"preprocessAll\">preprocess all</div>\n      <input id=\"overwrite_check\" v-model=\"overwrite\" type=\"checkbox\" />\n      <label for=\"overwrite_check\">Overwrite existing</label>\n    </div>\n    <template v-if=\"batchOutput && batchOutput.length > 0\">\n      <div class=\"preprocess-output-holder box\">\n        <terminal class=\"preprocess-output\" :output=\"batchOutput\" />\n        <div class=\"btn\" @click=\"stopPreprocessAll\">stop</div>\n      </div>\n    </template>\n    <template v-else>\n      <preprocess-item class=\"preprocess-item\" :sound=\"sound\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport audioUtils from '@/utils/audioUtils'\nimport imageUtils from '@/utils/imageUtils'\nimport PreprocessItem from '@/components/PreprocessItem'\nimport Terminal from '@/components/Terminal'\nimport TopTabs from '@/components/TopTabs.vue'\n\nexport default {\n  components: {\n    PreprocessItem,\n    Terminal,\n    TopTabs\n  },\n  data() {\n    return {\n      batchOutput: [],\n      preprocessAllStopped: false,\n      overwrite: false\n    }\n  },\n  computed: {\n    sound() {\n      return this.$store.getters['sounds/getSelectedSound']\n    }\n  },\n  methods: {\n    sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms))\n    },\n    async preprocessAll() {\n      this.preprocessAllStopped = false\n      this.batchOutput = ['Preprocessing all unpreprocessed sounds...\\n\\n']\n      const allSounds = this.$store.getters['sounds/getAllSounds']\n      for (let i = 0; i < allSounds.length; i++) {\n        let sound = allSounds[i]\n        if (\n          sound.spectrograms &&\n          sound.spectrograms.length > 0 &&\n          !this.overwrite\n        ) {\n          this.batchOutput.push(\n            `(${i + 1}/${allSounds.length}) ${\n              sound.name\n            } - already processed, ${sound.spectrograms.length} spectrograms.`\n          )\n          // short pause to allow the DOM to update. Otherwise everything wil just freeze\n          await this.sleep(100)\n        } else {\n          const audioSource = await this.loadSound(sound)\n          const spectrograms = await this.preprocessSound(audioSource, sound)\n          this.batchOutput.push(\n            `(${i + 1}/${allSounds.length}) ${sound.name} - processed : got ${\n              spectrograms.length\n            } spectrograms.`\n          )\n          // short pause to allow the DOM to update. Otherwise everything wil just freeze\n          await this.sleep(100)\n        }\n        if (this.preprocessAllStopped) {\n          break\n        }\n      }\n    },\n    loadSound(sound) {\n      return new Promise((resolve, reject) => {\n        // check if a sound is selected\n        if (sound == null) {\n          reject(new Error('no sound selected'))\n        } else {\n          this.$store\n            .dispatch('sounds/loadSoundFile', sound)\n            .then(audioSource => resolve(audioSource))\n        }\n      })\n    },\n    preprocessSound(audioSource, sound) {\n      return new Promise((resolve, reject) => {\n        if (!audioSource) {\n          reject(new Error('no audioSource'))\n        } else {\n          this.$set(sound, 'spectrograms', null)\n          audioUtils\n            .dataURIToAudioBuffer(audioSource)\n            .then(audioBuffer => {\n              const completeSpectrogram = audioUtils.analyzeSpectrogram(\n                audioBuffer\n              )\n              const spectrograms = imageUtils.padAndCut(completeSpectrogram)\n              // save spectrograms on sound\n              this.$set(sound, 'spectrograms', spectrograms)\n              this.$store.dispatch('sounds/saveSounds')\n              resolve(spectrograms)\n            })\n            .catch(err => reject(err))\n        }\n      })\n    },\n    stopPreprocessAll() {\n      this.preprocessAllStopped = true\n      this.batchOutput = []\n    }\n  }\n}\n</script>\n\n<style>\n.preprocess-item {\n  height: calc(100% - 7rem);\n}\n.preprocess-output-holder {\n  height: calc(100% - 7rem);\n}\n.preprocess-output {\n  height: calc(100% - 3rem);\n  margin-bottom: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preprocess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preprocess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preprocess.vue?vue&type=template&id=3260fb4c&\"\nimport script from \"./Preprocess.vue?vue&type=script&lang=js&\"\nexport * from \"./Preprocess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preprocess.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"models\"},[_c('top-tabs'),_c('div',{staticClass:\"vertical-split-holder\"},[_c('vertical-split',{attrs:{\"fraction\":0.4},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('div',{staticClass:\"model-list text-left box h-100\"},[_c('item-list',{attrs:{\"items\":_vm.models,\"selected-item\":_vm.selectedModel},on:{\"select\":_vm.selectModel,\"delete\":_vm.deleteModel}}),_c('div',{staticClass:\"models-bottom-btns\"},[_c('div',{staticClass:\"btn btn-sm\",on:{\"click\":_vm.newModel}},[_vm._v(\"New model\")])])],1)]},proxy:true},{key:\"bottom\",fn:function(){return [_c('div',{staticClass:\"model-inspector box h-100\"},[(_vm.selectedModel)?[_c('div',{staticClass:\"model-property\"},[_c('span',{staticClass:\"model-property-label\"},[_vm._v(\"Name\")]),_vm._v(\" \"+_vm._s(_vm.selectedModel.name)+\" \")]),_c('div',{staticClass:\"model-property\"},[_c('span',{staticClass:\"model-property-label\"},[_vm._v(\"Created\")]),_vm._v(\" \"+_vm._s(_vm.selectedModel.created)+\" \")]),_c('select-multiple',{staticClass:\"select-labels\",attrs:{\"label\":_vm.modelIsCreated\n                  ? 'Model created with labels'\n                  : 'Select at least 2 labels',\"items\":_vm.modelIsCreated\n                  ? _vm.labelsToObjects(_vm.selectedModel.labels)\n                  : _vm.labelObjects,\"adjustable\":!_vm.modelIsCreated,\"selected\":_vm.selectedModel.labels},on:{\"change\":_vm.selectLabels}}),_c('div'),(_vm.canCreateModel)?[_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":_vm.createTfModel}},[_vm._v(\" Create model \")]),_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){return _vm.deleteModel(_vm.selectedModel)}}},[_vm._v(\" delete \")])]:(_vm.modelIsCreated)?_c('div',{staticClass:\"model-info\"},[_c('div',{staticClass:\"msg\"},[_vm._v(\"Model created.\")]),(_vm.selectedModelHasUnprocessedSounds)?[_c('div',{staticClass:\"msg\"},[_vm._v(\" Warning: labels contain unprocessed sounds. \")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.$router.push('preprocess')}}},[_vm._v(\" preprocess \")]),_c('div',{staticClass:\"msg\"})]:_vm._e(),(_vm.selectedModel.trained)?_c('div',{staticClass:\"msg\"},[_vm._v(\" \"+_vm._s(_vm.selectedModel.epochsTrained)+\" epochs trained, acc: \"+_vm._s(_vm.selectedModel.acc)+\", loss: \"+_vm._s(_vm.selectedModel.loss)+\" \")]):_vm._e(),_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){_vm.showTrainPopup = true}}},[_vm._v(\" train \")]),(_vm.showTrainPopup && _vm.modelIsCreated)?_c('train-model',{attrs:{\"model\":_vm.selectedModel},on:{\"close\":function($event){_vm.showTrainPopup = false}}}):_vm._e(),(_vm.selectedModel.trained)?_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){_vm.showEvaluatePopup = true}}},[_vm._v(\" evaluate \")]):_vm._e(),(\n                  _vm.showEvaluatePopup && _vm.selectedModel && _vm.selectedModel.trained\n                )?_c('evaluate-model',{attrs:{\"model\":_vm.selectedModel},on:{\"close\":function($event){_vm.showEvaluatePopup = false}}}):_vm._e(),(_vm.selectedModel.trained)?_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){_vm.showPredictPopup = true}}},[_vm._v(\" predict \")]):_vm._e(),(\n                  _vm.showPredictPopup && _vm.selectedModel && _vm.selectedModel.trained\n                )?_c('predict-model',{attrs:{\"model\":_vm.selectedModel},on:{\"close\":function($event){_vm.showPredictPopup = false}}}):_vm._e(),_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){return _vm.deleteModel(_vm.selectedModel)}}},[_vm._v(\" delete \")])],2):_c('div',{staticClass:\"btn mar-bottom-sm\",on:{\"click\":function($event){return _vm.deleteModel(_vm.selectedModel)}}},[_vm._v(\" delete \")])]:_vm._e()],2)]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['select-multiple', _vm.adjustable ? 'adjustable' : 'static']},[(_vm.label && _vm.label != '')?_c('div',{staticClass:\"select-multiple-label\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \"),_c('span',{staticClass:\"op-50\"},[_vm._v(\"(\"+_vm._s(_vm.localSelected.length)+\"/\"+_vm._s(_vm.items.length)+\")\")])]):_vm._e(),_vm._l((_vm.items),function(item,index){return _c('div',{key:index,class:['select-multiple-item', _vm.isSelected(item) ? 'selected' : ''],on:{\"click\":function($event){return _vm.toggle(item)}}},[_vm._v(\" \"+_vm._s(item[_vm.displayProperty])+\" \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"['select-multiple', adjustable ? 'adjustable' : 'static']\">\n    <div v-if=\"label && label != ''\" class=\"select-multiple-label\">\n      {{ label }}\n      <span class=\"op-50\">({{ localSelected.length }}/{{ items.length }})</span>\n    </div>\n    <div\n      v-for=\"(item, index) in items\"\n      :key=\"index\"\n      :class=\"['select-multiple-item', isSelected(item) ? 'selected' : '']\"\n      @click=\"toggle(item)\"\n    >\n      {{ item[displayProperty] }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    items: {\n      // items is assumed to be an array with objects, each object has a 'value' key and a 'name' (or other displayProperty)\n      type: Array,\n      default: () => []\n    },\n    displayProperty: {\n      type: String,\n      default: 'name'\n    },\n    selected: {\n      // selected is assumed to be an array containing only values. So is the array passed along with the 'change' event\n      type: Array,\n      default: () => []\n    },\n    label: {\n      type: String,\n      default: ''\n    },\n    adjustable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      localSelected: this.selected\n    }\n  },\n  watch: {\n    selected(value) {\n      this.localSelected = value\n    }\n  },\n  methods: {\n    isSelected(toggleItem) {\n      return this.localSelected.some(\n        selectedValue => toggleItem.value == selectedValue\n      )\n    },\n    toggle(toggleItem) {\n      if (!this.adjustable) return\n      if (this.isSelected(toggleItem)) {\n        this.localSelected = this.localSelected.filter(\n          selectedValue => selectedValue != toggleItem.value\n        )\n      } else {\n        this.localSelected.push(toggleItem.value)\n      }\n      this.$emit('change', this.localSelected)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.select-multiple.adjustable {\n  background-color: #fff;\n}\n.select-multiple.static {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n.select-multiple {\n  padding: 0.25rem;\n  border-radius: 3px;\n}\n.select-multiple-label {\n  margin-bottom: 0.5rem;\n}\n.adjustable .select-multiple-item {\n  cursor: pointer;\n}\n.select-multiple-item {\n  height: 1.3rem;\n  overflow: hidden;\n  white-space: nowrap;\n  position: relative;\n  opacity: 0.25;\n  margin: 0.25rem;\n  border-radius: 3px;\n}\n.select-multiple-item.selected {\n  opacity: 1;\n  color: $blue;\n  background-color: $blue-almost-white;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMultiple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMultiple.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectMultiple.vue?vue&type=template&id=d39ab648&scoped=true&\"\nimport script from \"./SelectMultiple.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectMultiple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectMultiple.vue?vue&type=style&index=0&id=d39ab648&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d39ab648\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"train-model popup\"},[_c('div',{staticClass:\"train-model-content\"},[_c('div',{staticClass:\"train-model-title b\"},[_vm._v(\"train model \"+_vm._s(_vm.model.name))]),_c('div',{staticClass:\"msg\"},[_vm._v(\" Model will keep training indefinitely, saving after every \"+_vm._s(_vm.epochsPerIteration)+\" epochs if the loss decreased. \")]),_c('div',{staticClass:\"msg\"},[_vm._v(\" Click quit to stop training. \")]),_c('terminal',{staticClass:\"train-model-output-holder\",attrs:{\"output\":_vm.output}}),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\"quit\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as tf from '@tensorflow/tfjs'\n\nexport default {\n  getModel(numLabels, imageWidth = 173, imageHeight = 40, numChannels = 1) {\n    // adapted from https://codelabs.developers.google.com/codelabs/tfjs-training-classfication/index.html#4\n    const model = tf.sequential()\n\n    // In the first layer of our convolutional neural network we have\n    // to specify the input shape. Then we specify some parameters for\n    // the convolution operation that takes place in this layer.\n    model.add(\n      tf.layers.conv2d({\n        inputShape: [imageWidth, imageHeight, numChannels],\n        kernelSize: 5,\n        filters: 32,\n        strides: 1,\n        activation: 'relu',\n        kernelInitializer: 'varianceScaling'\n      })\n    )\n\n    // The MaxPooling layer acts as a sort of downsampling using max values\n    // in a region instead of averaging.\n    model.add(tf.layers.maxPooling2d({ poolSize: [2, 2], strides: [2, 2] }))\n\n    // Repeat another conv2d + maxPooling stack.\n    model.add(\n      tf.layers.conv2d({\n        kernelSize: 3,\n        filters: 32,\n        strides: 1,\n        activation: 'relu',\n        kernelInitializer: 'varianceScaling'\n      })\n    )\n    model.add(tf.layers.maxPooling2d({ poolSize: [2, 2], strides: [2, 2] }))\n\n    // Repeat another conv2d + maxPooling stack.\n    // Note that we have more filters in the convolution.\n    model.add(\n      tf.layers.conv2d({\n        kernelSize: 3,\n        filters: 64,\n        strides: 1,\n        activation: 'relu',\n        kernelInitializer: 'varianceScaling'\n      })\n    )\n    model.add(tf.layers.maxPooling2d({ poolSize: [4, 4], strides: [4, 4] })) // was: model.add(tf.layers.maxPooling2d({ poolSize: [2, 2], strides: [2, 2] }))\n\n    // Now we flatten the output from the 2D filters into a 1D vector to prepare\n    // it for input into our last layer. This is common practice when feeding\n    // higher dimensional data to a final classification output layer.\n    model.add(tf.layers.flatten())\n\n    model.add(\n      tf.layers.dense({\n        units: 64,\n        kernelInitializer: 'glorotUniform',\n        activation: 'relu'\n      })\n    )\n\n    // add dropout\n    model.add(tf.layers.dropout({ rate: 0.5 }))\n\n    model.add(\n      tf.layers.dense({\n        units: numLabels,\n        kernelInitializer: 'glorotUniform',\n        activation: 'sigmoid'\n      })\n    )\n    return model\n  },\n  compile(model) {\n    // Choose an optimizer, loss function and accuracy metric,\n    // then compile and return the model\n    const optimizer = tf.train.rmsprop(0.001)\n    model.compile({\n      optimizer: optimizer,\n      loss: 'categoricalCrossentropy',\n      metrics: ['accuracy']\n    })\n    return model\n  },\n  getModelSummary(model) {\n    const summaryLines = []\n    model.summary(60, null, line => summaryLines.push(line))\n    return summaryLines\n  },\n  prepareData(\n    spectrogramsByLabel,\n    imageWidth = 173,\n    imageHeight = 40,\n    numChannels = 1\n  ) {\n    // organize data in X and Y\n    const labels = spectrogramsByLabel.map(obj => obj.label)\n    const numClasses = labels.length\n    const X = []\n    const Y = []\n    spectrogramsByLabel.forEach(({ label, spectrograms }) => {\n      const labelIndex = labels.indexOf(label)\n      // TODO this may be slow for many samples\n      spectrograms.forEach(spectrogram => {\n        Y.push(labelIndex)\n        X.push(spectrogram)\n      })\n    })\n    const trainSize = X.length\n    // console.log(spectrogramsByLabel)\n    // console.log(labels, X, Y)\n\n    // TODO put this in a tf.tidy()?\n    const trainX = tf\n      .tensor3d(X)\n      .reshape([trainSize, imageWidth, imageHeight, numChannels])\n    // console.log(tf.tensor1d(Y, 'int32'))\n    const trainY = tf.oneHot(tf.tensor1d(Y, 'int32'), numClasses)\n\n    return { trainX, trainY }\n  },\n  train(model, { trainX, trainY }, epochs = 1, callbacks = {}, batchSize = 32) {\n    return model.fit(trainX, trainY, {\n      batchSize,\n      epochs,\n      verbose: 1,\n      shuffle: true,\n      callbacks,\n      validationSplit: 0.1,\n      yieldEvery: 75\n    })\n  },\n  async evaluate(model, { trainX, trainY }, labels) {\n    const evalYTensor = model.predict(trainX)\n    const evalYArray = await evalYTensor.array()\n    const trainYArray = await trainY.array()\n    const confusionMatrix = labels.map(trueLabel => {\n      return labels.map(predictedLabel => ({\n        trueLabel,\n        predictedLabel,\n        count: 0\n      }))\n    })\n    for (let i = 0; i < evalYArray.length; i++) {\n      let predictedLabel = this.argMax(evalYArray[i])\n      let trueLabel = this.argMax(trainYArray[i])\n      confusionMatrix[trueLabel][predictedLabel].count += 1\n    }\n    return confusionMatrix\n  },\n  argMax(array) {\n    return array\n      .map((x, i) => [x, i])\n      .reduce((r, a) => (a[0] > r[0] ? a : r))[1]\n  },\n  predictSpectrogram(tfModel, spectrogram) {\n    const X = tf\n      .tensor(spectrogram)\n      .reshape([1, spectrogram.length, spectrogram[0].length, 1])\n    const prediction = tfModel.predict(X)\n    return prediction.arraySync()[0]\n  },\n  scoresToLabelInfo(scores, labels) {\n    const maxIndex = scores.reduce(\n      (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\n      0\n    )\n    return {\n      predictedLabel: labels[maxIndex],\n      predictedScore: scores[maxIndex],\n      scores: scores.map((score, i) => ({ label: labels[i], score }))\n    }\n  },\n  formatPercentage(num) {\n    return Math.round(num * 100)\n  },\n  formatLabelInfo(labelInfo) {\n    return (\n      `\\nPredicted label: ${labelInfo.predictedLabel} (${this.formatPercentage(\n        labelInfo.predictedScore\n      )}%)\\n\\n` +\n      labelInfo.scores\n        .map(\n          ({ label, score }) => `${label}: ${this.formatPercentage(score)} %`\n        )\n        .join('\\n')\n    )\n  }\n}\n","<template>\n  <div class=\"train-model popup\">\n    <div class=\"train-model-content\">\n      <div class=\"train-model-title b\">train model {{ model.name }}</div>\n      <div class=\"msg\">\n        Model will keep training indefinitely, saving after every\n        {{ epochsPerIteration }} epochs if the loss decreased.\n      </div>\n      <div class=\"msg\">\n        Click quit to stop training.\n      </div>\n      <terminal class=\"train-model-output-holder\" :output=\"output\" />\n      <div class=\"btn\" @click=\"quit\">quit</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport trainingUtils from '@/utils/trainingUtils'\nimport Terminal from '@/components/Terminal'\n\nexport default {\n  components: {\n    Terminal\n  },\n  props: {\n    model: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      output: [],\n      hasQuit: false,\n      epochsPerIteration: 4\n    }\n  },\n  mounted() {\n    if (!this.model || !this.model.hasTfModel) {\n      this.output.push('No tensorflow model.')\n      return\n    }\n    // get data\n    this.output.push('Loading data...')\n    // get sounds organized by label\n    const modelSounds = this.model.labels.map(label => ({\n      label,\n      sounds: this.$store.getters['sounds/getSoundsByLabel'](label)\n    }))\n    // collect spectrograms and do checks\n    let numSpectrograms = 0\n    let spectrogramsByLabel = []\n    let emptyLabels = []\n    let numUnprocessedSounds = 0\n    modelSounds.forEach(({ label, sounds }) => {\n      const labelSpectrograms = {\n        label,\n        spectrograms: []\n      }\n      sounds.forEach(sound => {\n        if (sound.spectrograms && sound.spectrograms.length > 0) {\n          numSpectrograms += sound.spectrograms.length\n          labelSpectrograms.spectrograms.push(...sound.spectrograms)\n        } else {\n          numUnprocessedSounds += 1\n        }\n      })\n      if (labelSpectrograms.spectrograms.length == 0) {\n        emptyLabels.push(label)\n      }\n      spectrogramsByLabel.push(labelSpectrograms)\n    })\n    // prompt warning if there are unprocessed sounds\n    if (numUnprocessedSounds > 0) {\n      if (\n        !window.confirm(\n          `Warning: ${numUnprocessedSounds} sounds are not processed yet. Continue training?`\n        )\n      ) {\n        this.output.push('Training aborted.')\n        return\n      }\n    }\n    // should have no empty labels\n    if (emptyLabels.length > 0) {\n      const emptyLabelNames = emptyLabels.join(', ')\n      this.output.push(\n        `Error: labels (${emptyLabelNames}) contain no preprocessed sounds.`\n      )\n      return\n    }\n    this.output.push(\n      `Got ${numSpectrograms} spectrograms in ${spectrogramsByLabel.length} labels:`\n    )\n    spectrogramsByLabel.forEach(({ label, spectrograms }) =>\n      this.output.push(`  ${label}: ${spectrograms.length}`)\n    )\n    const trainData = trainingUtils.prepareData(spectrogramsByLabel)\n\n    // load tensorflow model\n    this.output.push('Loading tensorflow model...')\n    this.$store\n      .dispatch('models/loadTfModel', { model: this.model })\n      .then(tfModel => {\n        // compile\n        tfModel = trainingUtils.compile(tfModel)\n        this.output.push('Model ready:')\n        this.output.push(...trainingUtils.getModelSummary(tfModel))\n        // train model\n        this.trainEpochs(tfModel, trainData)\n      })\n      .catch(err => {\n        this.output.push('Encountered an error, check the console.')\n        console.log(err)\n      })\n  },\n  methods: {\n    async trainEpochs(tfModel, trainData) {\n      let minLoss = this.model.loss || 1e6\n      while (true) {\n        if (this.hasQuit) break\n        this.output.push(\n          `Training epochs ${this.model.epochsTrained + 1}-${this.model\n            .epochsTrained + this.epochsPerIteration}...`\n        )\n        const history = await trainingUtils.train(\n          tfModel,\n          trainData,\n          this.epochsPerIteration,\n          {\n            onEpochEnd: (epoch, logs) => {\n              this.output.push(\n                `Epoch ${epoch + this.model.epochsTrained + 1}: loss: ${\n                  logs.loss\n                }, acc: ${logs.acc}.`\n              )\n            }\n          }\n        )\n        const lastEpoch = history.history.loss.length - 1\n        const loss = history.history.loss[lastEpoch]\n        const acc = history.history.acc[lastEpoch]\n        if (loss < minLoss) {\n          this.output.push(`loss decreased, saving...`)\n          this.model.trained = true\n          this.model.epochsTrained = this.model.epochsTrained\n            ? this.model.epochsTrained + this.epochsPerIteration\n            : this.epochsPerIteration\n          this.model.loss = loss\n          this.model.acc = acc\n          await this.$store.dispatch('models/saveModels')\n          await this.$store.dispatch('models/saveTfModel', {\n            model: this.model,\n            tfModel\n          })\n        }\n        minLoss = Math.min(minLoss, loss)\n      }\n      this.output.push('Training done.')\n    },\n    quit() {\n      this.hasQuit = true\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/variables.scss';\n\n.train-model-content {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  width: 80%;\n  height: 80%;\n  text-align: center;\n}\n.train-model-title {\n  margin-bottom: 0.5rem;\n}\n.train-model-msg {\n  margin-bottom: 0.5rem;\n}\n.train-model-output-holder {\n  height: calc(100% - 8rem);\n  margin-bottom: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrainModel.vue?vue&type=template&id=3ea4982a&\"\nimport script from \"./TrainModel.vue?vue&type=script&lang=js&\"\nexport * from \"./TrainModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrainModel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"evaluate-model popup\"},[_c('div',{staticClass:\"evaluate-model-content\"},[_c('div',{staticClass:\"evaluate-model-title b\"},[_vm._v(\"evaluate model \"+_vm._s(_vm.model.name))]),(_vm.confusionMatrix)?_c('div',{staticClass:\"confusion-matrix-holder\"},[_c('table',{staticClass:\"confusion-matrix\"},[_c('div',{staticClass:\"msg\"},[_vm._v(\" Confusion matrix (vertical axis: true labels, horizontal axis: predicted labels) \")]),_c('tr',[_c('th'),_vm._l((_vm.model.labels),function(label,labelIndex){return _c('th',{key:labelIndex,staticClass:\"b\"},[_vm._v(\" \"+_vm._s(label)+\" \")])})],2),_vm._l((_vm.confusionMatrix),function(row,rowIndex){return _c('tr',{key:rowIndex},[_c('td',{staticClass:\"b\"},[_vm._v(_vm._s(_vm.usedLabelDisplay(row[0].trueLabel)))]),_vm._l((row),function(col,colIndex){return _c('td',{key:colIndex,style:(_vm.celStyle(col, row))},[_vm._v(\" \"+_vm._s(col.count)+\" (\"+_vm._s(_vm.percentage(col, row))+\" %) \")])})],2)})],2)]):_vm._e(),(_vm.started)?_c('div',[_c('terminal',{staticClass:\"evaluate-model-output-holder\",attrs:{\"output\":_vm.output}})],1):_c('div',[_vm._v(\" Select labels to use: \"),_vm._l((_vm.model.labels),function(label,index){return _c('div',{key:index,staticClass:\"msg\"},[_vm._v(\" For label \"+_vm._s(label)+\" use \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.labelMappings[label]),expression:\"labelMappings[label]\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.labelMappings, label, $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.allLabels),function(useLabel,useIndex){return _c('option',{key:useIndex,domProps:{\"value\":useLabel}},[_vm._v(_vm._s(useLabel))])}),0)])}),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.start}},[_vm._v(\"Start\")])],2),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\"quit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"evaluate-model popup\">\n    <div class=\"evaluate-model-content\">\n      <div class=\"evaluate-model-title b\">evaluate model {{ model.name }}</div>\n      <div v-if=\"confusionMatrix\" class=\"confusion-matrix-holder\">\n        <table class=\"confusion-matrix\">\n          <div class=\"msg\">\n            Confusion matrix (vertical axis: true labels, horizontal axis:\n            predicted labels)\n          </div>\n          <tr>\n            <th></th>\n            <th\n              v-for=\"(label, labelIndex) in model.labels\"\n              :key=\"labelIndex\"\n              class=\"b\"\n            >\n              {{ label }}\n            </th>\n          </tr>\n          <tr v-for=\"(row, rowIndex) in confusionMatrix\" :key=\"rowIndex\">\n            <td class=\"b\">{{ usedLabelDisplay(row[0].trueLabel) }}</td>\n            <td\n              v-for=\"(col, colIndex) in row\"\n              :key=\"colIndex\"\n              :style=\"celStyle(col, row)\"\n            >\n              {{ col.count }} ({{ percentage(col, row) }} %)\n            </td>\n          </tr>\n        </table>\n      </div>\n      <div v-if=\"started\">\n        <terminal class=\"evaluate-model-output-holder\" :output=\"output\" />\n      </div>\n      <div v-else>\n        Select labels to use:\n        <div v-for=\"(label, index) in model.labels\" :key=\"index\" class=\"msg\">\n          For label {{ label }} use\n          <select v-model=\"labelMappings[label]\">\n            <option\n              v-for=\"(useLabel, useIndex) in allLabels\"\n              :key=\"useIndex\"\n              :value=\"useLabel\"\n              >{{ useLabel }}</option\n            >\n          </select>\n        </div>\n        <div class=\"btn\" @click=\"start\">Start</div>\n      </div>\n      <div class=\"btn\" @click=\"quit\">quit</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport trainingUtils from '@/utils/trainingUtils'\nimport Terminal from '@/components/Terminal'\n\nexport default {\n  components: {\n    Terminal\n  },\n  props: {\n    model: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      output: [],\n      hasQuit: false,\n      confusionMatrix: null,\n      started: false,\n      labelMappings: {}\n    }\n  },\n  mounted() {\n    this.labelMappings = this.model.labels.reduce((mappings, modelLabel) => {\n      mappings[modelLabel] =\n        this.allLabels.find(label => label == modelLabel) || this.allLabels[0]\n      return mappings\n    }, {})\n  },\n  computed: {\n    allLabels() {\n      return this.$store.getters['sounds/getLabels']\n    }\n  },\n  methods: {\n    usedLabelDisplay(label) {\n      const usedLabel = this.labelMappings[label]\n      return label == usedLabel ? label : `${label} (${usedLabel})`\n    },\n    start() {\n      this.started = true\n      if (!this.model || !this.model.hasTfModel) {\n        this.output.push('No tensorflow model.')\n        return\n      }\n      // get data\n      this.output.push('Loading data...')\n      // get sounds organized by label\n      const modelSounds = this.model.labels.map(label => ({\n        label: this.usedLabelDisplay(label),\n        sounds: this.$store.getters['sounds/getSoundsByLabel'](\n          this.labelMappings[label]\n        )\n      }))\n      // collect spectrograms and do checks\n      let numSpectrograms = 0\n      let spectrogramsByLabel = []\n      let emptyLabels = []\n      modelSounds.forEach(({ label, sounds }) => {\n        const labelSpectrograms = {\n          label,\n          spectrograms: []\n        }\n        sounds.forEach(sound => {\n          if (sound.spectrograms && sound.spectrograms.length > 0) {\n            numSpectrograms += sound.spectrograms.length\n            labelSpectrograms.spectrograms.push(...sound.spectrograms)\n          }\n        })\n        if (labelSpectrograms.spectrograms.length == 0) {\n          emptyLabels.push(label)\n        }\n        spectrogramsByLabel.push(labelSpectrograms)\n      })\n      // Warn on empty labels\n      if (emptyLabels.length > 0) {\n        const emptyLabelNames = emptyLabels.join(', ')\n        this.output.push(\n          `Warning: labels (${emptyLabelNames}) contain no preprocessed sounds.`\n        )\n      }\n      this.output.push(\n        `Got ${numSpectrograms} spectrograms in ${spectrogramsByLabel.length} labels:`\n      )\n      spectrogramsByLabel.forEach(({ label, spectrograms }) =>\n        this.output.push(`  ${label}: ${spectrograms.length}`)\n      )\n      const dataSet = trainingUtils.prepareData(spectrogramsByLabel)\n\n      // load tensorflow model\n      this.output.push('Loading tensorflow model...')\n      this.$store\n        .dispatch('models/loadTfModel', { model: this.model })\n        .then(tfModel => {\n          // compile\n          tfModel = trainingUtils.compile(tfModel)\n          this.output.push('Model ready:')\n          this.output.push(...trainingUtils.getModelSummary(tfModel))\n          // evaluate model\n          this.evaluate(tfModel, dataSet, this.model.labels)\n        })\n        .catch(err => {\n          this.output.push('Encountered an error, check the console.')\n          console.log(err)\n        })\n    },\n    async evaluate(tfModel, dataSet, labels) {\n      this.confusionMatrix = await trainingUtils.evaluate(\n        tfModel,\n        dataSet,\n        labels\n      )\n      console.log(this.confusionMatrix)\n    },\n    percentage(col, row) {\n      return Math.round((col.count / this.rowTotal(row)) * 100)\n    },\n    rowTotal(row) {\n      return row.reduce((total, col) => total + col.count, 0)\n    },\n    celStyle(col, row) {\n      const frac = this.percentage(col, row) / 100\n      return {\n        backgroundColor: `rgba(94, 97, 135, ${frac})`,\n        color: frac > 0.5 ? '#fff' : '#000'\n      }\n    },\n    quit() {\n      this.hasQuit = true\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/variables.scss';\n\n.evaluate-model-content {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  width: 80%;\n  height: 80%;\n  text-align: center;\n}\n.evaluate-model-title {\n  margin-bottom: 0.5rem;\n}\n.evaluate-model-msg {\n  margin-bottom: 0.5rem;\n}\n.evaluate-model-output-holder {\n  height: 15rem;\n  margin-bottom: 0.5rem;\n}\ntable.confusion-matrix {\n  font-size: 0.75rem;\n  display: inline-block;\n  margin: 1rem;\n}\n.btn {\n  margin-top: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EvaluateModel.vue?vue&type=template&id=379a36e6&scoped=true&\"\nimport script from \"./EvaluateModel.vue?vue&type=script&lang=js&\"\nexport * from \"./EvaluateModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EvaluateModel.vue?vue&type=style&index=0&id=379a36e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"379a36e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"predict-model popup\"},[_c('div',{staticClass:\"predict-model-content\"},[_c('div',{staticClass:\"predict-model-title b\"},[_vm._v(\" use model \\\"\"+_vm._s(_vm.model.name)+\"\\\" for prediction \")]),_c('terminal',{staticClass:\"predict-model-output-holder\",attrs:{\"output\":_vm.output}}),(_vm.modelReady)?_c('upload-sound-button',{attrs:{\"multiple\":false,\"return-data-url\":false,\"btn-class\":\"btn\"},on:{\"sound\":_vm.preprocessFile}}):_vm._e(),(_vm.recordingSupported)?[(!_vm.recording)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.record}},[_vm._v(\"record\")]):_c('div',{staticClass:\"btn\",on:{\"click\":_vm.stopRecording}},[_vm._v(\"stop\")])]:_vm._e(),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.quit}},[_vm._v(\"quit\")]),_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postRequestUrl),expression:\"postRequestUrl\"}],staticClass:\"predict-model-input\",attrs:{\"placeholder\":\"https://localhost\"},domProps:{\"value\":(_vm.postRequestUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postRequestUrl=$event.target.value}}})],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg\"},[_c('br'),_vm._v(\" Optional: type an url below and every prediction will be sent to it with a post request. \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"predict-model popup\">\n    <div class=\"predict-model-content\">\n      <div class=\"predict-model-title b\">\n        use model \"{{ model.name }}\" for prediction\n      </div>\n      <terminal class=\"predict-model-output-holder\" :output=\"output\" />\n      <upload-sound-button\n        v-if=\"modelReady\"\n        :multiple=\"false\"\n        :return-data-url=\"false\"\n        btn-class=\"btn\"\n        @sound=\"preprocessFile\"\n      />\n      <template v-if=\"recordingSupported\">\n        <div v-if=\"!recording\" class=\"btn\" @click=\"record\">record</div>\n        <div v-else class=\"btn\" @click=\"stopRecording\">stop</div>\n      </template>\n      <div class=\"btn\" @click=\"quit\">quit</div>\n      <div class=\"msg\">\n        <br />\n        Optional: type an url below and every prediction will be sent to it with\n        a post request.\n      </div>\n      <input\n        v-model=\"postRequestUrl\"\n        class=\"predict-model-input\"\n        placeholder=\"https://localhost\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport UploadSoundButton from '@/components/UploadSoundButton'\nimport audioUtils from '@/utils/audioUtils'\nimport imageUtils from '@/utils/imageUtils'\nimport Terminal from '@/components/Terminal'\nimport trainingUtils from '@/utils/trainingUtils'\nimport AudioRecorder from 'audio-recorder-polyfill'\n\nexport default {\n  components: {\n    UploadSoundButton,\n    Terminal\n  },\n  props: {\n    model: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      output: [],\n      hasQuit: false,\n      hasStopped: false,\n      modelReady: false,\n      tfModel: null,\n      recordingSupported: false,\n      recording: false,\n      recorder: null,\n      postRequestUrl: ''\n    }\n  },\n  computed: {},\n  watch: {},\n  mounted() {\n    if (!this.model || !this.model.hasTfModel) {\n      this.output.push('No tensorflow model.')\n      return\n    }\n    this.output.push('Loading tensorflow model...')\n    this.$store\n      .dispatch('models/loadTfModel', { model: this.model })\n      .then(tfModel => {\n        this.tfModel = tfModel\n        this.output.push('Model ready.')\n        this.modelReady = true\n        // get audio recorder if supported\n        audioUtils\n          .getRecorder()\n          .then(stream => {\n            this.recordingSupported = true\n            this.recorder = new AudioRecorder(stream)\n            this.output.push('Audio recorder ready.')\n            // when stream is stopped:\n            this.recorder.addEventListener(\n              'dataavailable',\n              this.processRecording\n            )\n          })\n          .catch(e => {\n            this.recordingSupported = false\n            this.output.push(\n              `Recording sound is not supported in this browser or permission denied. (Error: ${e.message})`\n            )\n          })\n      })\n      .catch(err => {\n        this.output.push('Encountered an error, check the console.')\n        console.log(err)\n      })\n  },\n  methods: {\n    processRecording(rec) {\n      this.output.push('stop recording.')\n      if (!this.hasQuit && !this.hasStopped) {\n        this.preprocessFile(rec.data, true)\n      }\n    },\n    sleep(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms))\n    },\n    async recordWhenReady() {\n      while (!this.hasQuit && !this.hasStopped) {\n        await this.sleep(200)\n        if (this.recorder.state != 'recording') {\n          this.record()\n          break\n        }\n      }\n    },\n    record() {\n      this.hasStopped = false\n      this.recording = true\n      this.output.push('start recording...')\n      this.recorder.start()\n      window.setTimeout(() => {\n        if (this.recorder.state == 'recording') {\n          this.recorder.stop()\n          this.recordWhenReady()\n        }\n      }, 4100)\n    },\n    stopRecording() {\n      this.hasStopped = true\n      if (this.recorder.state == 'recording') {\n        this.recorder.stop()\n      }\n      this.recording = false\n    },\n    preprocessFile(file, oneSpectrogram = false) {\n      this.output.push('Reading uploaded file...')\n      // read file and convert to audio buffer\n      audioUtils\n        .fileToAudioBuffer(file)\n        .then(audioBuffer => {\n          this.output.push('Creating spectrograms...')\n          let completeSpectrogram, spectrograms\n          try {\n            completeSpectrogram = audioUtils.analyzeSpectrogram(audioBuffer)\n            spectrograms = imageUtils.padAndCut(completeSpectrogram)\n          } catch (e) {\n            this.output.push(`Error ceating spectrograms: ${e.message}`)\n          }\n          if (oneSpectrogram) {\n            this.output.push(spectrograms[0])\n            this.predict(spectrograms[0])\n          } else {\n            this.output.push(`Got ${spectrograms.length} spectrograms:`)\n            spectrograms.forEach(spectrogram => {\n              this.output.push(spectrogram)\n              this.predict(spectrogram)\n            })\n          }\n        })\n        .catch(e => this.output.push(`Error reading file: ${e.message}`))\n    },\n    predict(spectrogram) {\n      if (!this.modelReady) {\n        return\n      }\n      const scores = trainingUtils.predictSpectrogram(this.tfModel, spectrogram)\n      const prediction = trainingUtils.scoresToLabelInfo(\n        scores,\n        this.model.labels\n      )\n      this.output.push(trainingUtils.formatLabelInfo(prediction))\n      if (this.postRequestUrl) {\n        this.sendPostRequest(prediction)\n      }\n    },\n    sendPostRequest(data) {\n      this.output.push('\\nSending prediction data...')\n\n      const xhr = new XMLHttpRequest()\n      xhr.open('POST', this.postRequestUrl)\n      xhr.onload = () => {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          this.output.push(`Data sent. Response: ${xhr.responseText}\\n`)\n        } else {\n          this.output.push(\n            `Status: ${xhr.status}, statusText: ${xhr.statusText}\\n`\n          )\n        }\n      }\n      xhr.onerror = () => {\n        this.output.push('Request error.\\n')\n      }\n      xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8')\n      xhr.send(JSON.stringify({ data }))\n    },\n    quit() {\n      this.stopRecording()\n      this.hasQuit = true\n      // Remove “recording” icon from browser tab\n      this.recorder.stream.getTracks().forEach(i => i.stop())\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/variables.scss';\n\n.predict-model-content {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  width: 80%;\n  height: 80%;\n  text-align: center;\n}\n.predict-model-title {\n  margin-bottom: 0.5rem;\n}\n.predict-model-msg {\n  margin-bottom: 0.5rem;\n}\n.predict-model-output-holder {\n  height: calc(100% - 6rem);\n  margin-bottom: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PredictModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PredictModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PredictModel.vue?vue&type=template&id=a090def8&\"\nimport script from \"./PredictModel.vue?vue&type=script&lang=js&\"\nexport * from \"./PredictModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PredictModel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"models\">\n    <top-tabs />\n    <div class=\"vertical-split-holder\">\n      <vertical-split :fraction=\"0.4\">\n        <template v-slot:top>\n          <div class=\"model-list text-left box h-100\">\n            <item-list\n              :items=\"models\"\n              :selected-item=\"selectedModel\"\n              @select=\"selectModel\"\n              @delete=\"deleteModel\"\n            />\n            <div class=\"models-bottom-btns\">\n              <div class=\"btn btn-sm\" @click=\"newModel\">New model</div>\n            </div>\n          </div>\n        </template>\n        <template v-slot:bottom>\n          <div class=\"model-inspector box h-100\">\n            <template v-if=\"selectedModel\">\n              <div class=\"model-property\">\n                <span class=\"model-property-label\">Name</span>\n                {{ selectedModel.name }}\n              </div>\n              <div class=\"model-property\">\n                <span class=\"model-property-label\">Created</span>\n                {{ selectedModel.created }}\n              </div>\n              <select-multiple\n                :label=\"\n                  modelIsCreated\n                    ? 'Model created with labels'\n                    : 'Select at least 2 labels'\n                \"\n                :items=\"\n                  modelIsCreated\n                    ? labelsToObjects(selectedModel.labels)\n                    : labelObjects\n                \"\n                :adjustable=\"!modelIsCreated\"\n                :selected=\"selectedModel.labels\"\n                class=\"select-labels\"\n                @change=\"selectLabels\"\n              />\n              <div />\n              <template v-if=\"canCreateModel\">\n                <div class=\"btn mar-bottom-sm\" @click=\"createTfModel\">\n                  Create model\n                </div>\n                <div\n                  class=\"btn mar-bottom-sm\"\n                  @click=\"deleteModel(selectedModel)\"\n                >\n                  delete\n                </div>\n              </template>\n              <div v-else-if=\"modelIsCreated\" class=\"model-info\">\n                <div class=\"msg\">Model created.</div>\n                <template v-if=\"selectedModelHasUnprocessedSounds\">\n                  <div class=\"msg\">\n                    Warning: labels contain unprocessed sounds.\n                  </div>\n                  <div class=\"btn\" @click=\"$router.push('preprocess')\">\n                    preprocess\n                  </div>\n                  <div class=\"msg\" />\n                </template>\n                <div v-if=\"selectedModel.trained\" class=\"msg\">\n                  {{ selectedModel.epochsTrained }} epochs trained, acc:\n                  {{ selectedModel.acc }}, loss: {{ selectedModel.loss }}\n                </div>\n                <div class=\"btn mar-bottom-sm\" @click=\"showTrainPopup = true\">\n                  train\n                </div>\n                <train-model\n                  v-if=\"showTrainPopup && modelIsCreated\"\n                  :model=\"selectedModel\"\n                  @close=\"showTrainPopup = false\"\n                />\n                <div\n                  v-if=\"selectedModel.trained\"\n                  class=\"btn mar-bottom-sm\"\n                  @click=\"showEvaluatePopup = true\"\n                >\n                  evaluate\n                </div>\n                <evaluate-model\n                  v-if=\"\n                    showEvaluatePopup && selectedModel && selectedModel.trained\n                  \"\n                  :model=\"selectedModel\"\n                  @close=\"showEvaluatePopup = false\"\n                />\n                <div\n                  v-if=\"selectedModel.trained\"\n                  class=\"btn mar-bottom-sm\"\n                  @click=\"showPredictPopup = true\"\n                >\n                  predict\n                </div>\n                <predict-model\n                  v-if=\"\n                    showPredictPopup && selectedModel && selectedModel.trained\n                  \"\n                  :model=\"selectedModel\"\n                  @close=\"showPredictPopup = false\"\n                />\n                <div\n                  class=\"btn mar-bottom-sm\"\n                  @click=\"deleteModel(selectedModel)\"\n                >\n                  delete\n                </div>\n              </div>\n              <div\n                v-else\n                class=\"btn mar-bottom-sm\"\n                @click=\"deleteModel(selectedModel)\"\n              >\n                delete\n              </div>\n            </template>\n          </div>\n        </template>\n      </vertical-split>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VerticalSplit from '@/components/VerticalSplit'\nimport ItemList from '@/components/ItemList'\nimport SelectMultiple from '@/components/SelectMultiple'\nimport TrainModel from '@/components/TrainModel'\nimport EvaluateModel from '@/components/EvaluateModel'\nimport PredictModel from '@/components/PredictModel'\nimport trainingUtils from '@/utils/trainingUtils'\nimport TopTabs from '@/components/TopTabs.vue'\n\nconst nullLabelObject = { name: 'unlabeled', value: null }\n\nexport default {\n  name: 'Models',\n  components: {\n    VerticalSplit,\n    ItemList,\n    SelectMultiple,\n    TrainModel,\n    EvaluateModel,\n    PredictModel,\n    TopTabs\n  },\n  data() {\n    return {\n      selectedLabels: [],\n      showTrainPopup: false,\n      showEvaluatePopup: false,\n      showPredictPopup: false\n    }\n  },\n  computed: {\n    modelIsCreated() {\n      return this.selectedModel && this.selectedModel.hasTfModel\n    },\n    canCreateModel() {\n      return (\n        this.selectedModel &&\n        !this.modelIsCreated &&\n        this.selectedLabels.length > 1\n      )\n    },\n    models() {\n      return this.$store.getters['models/getModels']\n    },\n    selectedModel() {\n      return this.$store.getters['models/getSelectedModel']\n    },\n    labelObjects() {\n      return [\n        nullLabelObject,\n        ...this.labelsToObjects(this.$store.getters['sounds/getLabels'])\n      ]\n    },\n    selectedModelHasUnprocessedSounds() {\n      if (!this.modelIsCreated && !this.canCreateModel) {\n        return false\n      }\n      let hasUnprocessedSounds = false\n      this.selectedModel.labels.forEach(label => {\n        this.$store.getters['sounds/getSoundsByLabel'](label).forEach(sound => {\n          if (!sound.spectrograms || sound.spectrograms.length == 0) {\n            hasUnprocessedSounds = true\n          }\n        })\n      })\n      return hasUnprocessedSounds\n    }\n  },\n  methods: {\n    labelsToObjects(labels) {\n      return labels.map(label => ({\n        name: label,\n        value: label\n      }))\n    },\n    objectsToLabels(objects) {\n      return objects.map(obj => obj.value)\n    },\n    newModel() {\n      const modelPrompt = window.prompt('New model name:')\n      if (modelPrompt != null) {\n        this.$store.commit('models/addModel', { name: modelPrompt })\n      }\n    },\n    createTfModel() {\n      if (!this.selectedModel) return\n      if (!this.canCreateModel) return\n      const tfModel = trainingUtils.getModel(this.selectedLabels.length)\n      tfModel.summary()\n      this.$store\n        .dispatch('models/saveTfModel', {\n          model: this.selectedModel,\n          tfModel\n        })\n        .then(() => {\n          this.$set(this.selectedModel, 'hasTfModel', true)\n          this.$set(this.selectedModel, 'labels', this.selectedLabels)\n          this.$store.dispatch('models/saveModels')\n        })\n    },\n    selectModel(model) {\n      this.$store.commit('models/selectModel', model)\n    },\n    deleteModel(model) {\n      this.$store.dispatch('models/deleteModel', model)\n    },\n    selectLabels(labels) {\n      this.selectedLabels = labels\n    }\n  }\n}\n</script>\n\n<style scoped>\n.models {\n  padding-bottom: 1rem;\n}\n.models .box {\n  margin: 0;\n  overflow-y: scroll;\n}\n.vertical-split-holder {\n  margin-top: 1rem;\n  height: calc(100% - 3rem);\n}\n.model-list {\n  position: relative;\n}\n.models-bottom-btns {\n  position: absolute;\n  bottom: 0.5rem;\n}\n.model-property {\n  margin-bottom: 0.25rem;\n}\n.model-property-label {\n  opacity: 0.5;\n}\n.select-labels {\n  margin-bottom: 0.5rem;\n  display: inline-block;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Models.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Models.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Models.vue?vue&type=template&id=a85bc6ae&scoped=true&\"\nimport script from \"./Models.vue?vue&type=script&lang=js&\"\nexport * from \"./Models.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Models.vue?vue&type=style&index=0&id=a85bc6ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a85bc6ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('div',{staticClass:\"view-title h4\"},[_vm._v(\"About\")]),_vm._m(0),_vm._m(1),_vm._m(2),_c('p',[_c('ol',[_c('li',[_vm._v(\"Import or record sounds categorized by two or more different labels in the \"),_c('router-link',{attrs:{\"to\":\"sounds\"}},[_vm._v(\"sounds tab\")]),_vm._v(\".\")],1),_c('li',[_c('router-link',{attrs:{\"to\":\"preprocess\"}},[_vm._v(\"Preprocess\")]),_vm._v(\" the sounds to generate visual spectrograms for learning.\")],1),_c('li',[_vm._v(\"Create and train a model in the \"),_c('router-link',{attrs:{\"to\":\"models\"}},[_vm._v(\"models tab\")]),_vm._v(\" to predict labels for sounds. Then use the model on uploaded or recorded sounds.\")],1)])]),_vm._m(3),_vm._m(4)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" Sound classification in the browser.\"),_c('br'),_vm._v(\" Developed by Jan Bijster for V2 institute for unstable media, Rotterdam 2020. \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"https://github.com/janbijster/v2_sound_classification_js\",\"target\":\"_blank\"}},[_vm._v(\"View source code on Github\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('b',[_vm._v(\"Usage\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('b',[_vm._v(\"Feedback\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" Questions, feedback, anything else? Send it to \"),_c('a',{attrs:{\"href\":\"mailto:info@janbijster.com\"}},[_vm._v(\"info@janbijster.com\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=7f23b3b0&scoped=true&\"\nvar script = {}\nimport style0 from \"./About.vue?vue&type=style&index=0&id=7f23b3b0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f23b3b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"import-export-view\"},[_c('div',{staticClass:\"view-title h4\"},[_vm._v(\"Import / Export\")]),_c('div',{staticClass:\"box split-left text-center\"},[_c('h4',[_vm._v(\"Sounds\")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.exportSounds}},[_vm._v(\" export processed sounds \")]),_c('div',{staticClass:\"msg\"},[_vm._v(\" (only the sound metadata and processed spectrograms are exported) \")]),_c('upload-file-button',{attrs:{\"btn-text\":\"upload processed sounds\",\"btn-class\":\"btn\",\"multiple\":false,\"accept\":\".blob\"},on:{\"files\":_vm.importSounds}}),_c('terminal',{staticClass:\"import-export-output\",attrs:{\"output\":_vm.output}})],1),_c('div',{staticClass:\"box split-right text-center\"},[_c('h4',[_vm._v(\"Models\")]),_c('upload-file-button',{attrs:{\"btn-text\":\"import model\",\"btn-class\":\"btn\",\"multiple\":false,\"accept\":\".blob\"},on:{\"files\":_vm.importModel}}),_c('div',{staticClass:\"model-list\"},_vm._l((_vm.models),function(model,index){return _c('export-model',{key:index,attrs:{\"model\":model}})}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportExport.vue?vue&type=template&id=5ee52972&scoped=true&\"\nimport script from \"./ImportExport.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportExport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportExport.vue?vue&type=style&index=0&id=5ee52972&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ee52972\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Sounds from '@/views/Sounds'\nimport Preprocess from '@/views/Preprocess'\nimport Models from '@/views/Models'\nimport About from '@/views/About'\nimport ImportExport from '@/views/ImportExport'\n\nVue.use(VueRouter)\n\nconst routes = [\n  { path: '/', redirect: '/about' },\n  {\n    path: '/sounds',\n    name: 'Sounds',\n    showInMenu: true,\n    component: Sounds\n  },\n  {\n    path: '/preprocess/',\n    name: 'Preprocess',\n    showInMenu: true,\n    component: Preprocess\n  },\n  {\n    path: '/models/',\n    name: 'Models',\n    showInMenu: true,\n    component: Models\n  },\n  {\n    path: '/about',\n    name: 'About',\n    showInMenu: true,\n    component: About\n  },\n  {\n    path: '/import-export',\n    name: 'Import/Export',\n    showInMenu: true,\n    component: ImportExport\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport localforage from 'localforage'\nimport * as tf from '@tensorflow/tfjs'\n\nlocalforage.ready().then(() => {\n  if (localforage.driver() != localforage.INDEXEDDB) {\n    alert(\n      'Warning: IndexedDB is not available for local storage in this browser. Some components may not work.'\n    )\n  }\n})\n\nexport default {\n  diskActivity: [],\n  hasIndexedDB: () => localforage.driver() == localforage.INDEXEDDB,\n  storagePath() {\n    return this.hasIndexedDB ? 'indexeddb://' : 'localstorage://'\n  },\n  saveToDisk(key, value) {\n    return new Promise(resolve => {\n      Vue.set(this.diskActivity, 0, `saving ${key}...`)\n      localforage.setItem(key, value).then(() => {\n        Vue.set(this.diskActivity, 0, null)\n        resolve()\n      })\n    })\n  },\n  removeFromDisk(key) {\n    Vue.set(this.diskActivity, 0, `removing ${key}...`)\n    localforage\n      .removeItem(key)\n      .then(() => Vue.set(this.diskActivity, 0, null))\n      .catch(e => console.log(e))\n  },\n  loadFromDisk(key) {\n    return new Promise((resolve, reject) => {\n      Vue.set(this.diskActivity, 0, `loading ${key}...`)\n      localforage\n        .getItem(key)\n        .then(value => {\n          Vue.set(this.diskActivity, 0, null)\n          resolve(value)\n        })\n        .catch(err => {\n          Vue.set(this.diskActivity, 0, null)\n          reject(err)\n        })\n    })\n  },\n  saveTfModel(model, tfModel) {\n    return new Promise(resolve => {\n      Vue.set(this.diskActivity, 0, `saving model file for ${model.name}...`)\n      tfModel\n        .save(`${this.storagePath()}model-file-${model.identifier}`)\n        .then(() => {\n          Vue.set(this.diskActivity, 0, null)\n          resolve()\n        })\n    })\n  },\n  loadTfModel(model) {\n    return new Promise((resolve, reject) => {\n      Vue.set(this.diskActivity, 0, `loading model file for ${model.name}...`)\n      tf.loadLayersModel(`${this.storagePath()}model-file-${model.identifier}`)\n        .then(tfModel => {\n          Vue.set(this.diskActivity, 0, null)\n          resolve(tfModel)\n        })\n        .catch(err => {\n          Vue.set(this.diskActivity, 0, null)\n          reject(err)\n        })\n    })\n  },\n  clearTfModel(model) {\n    Vue.set(this.diskActivity, 0, `removing model file for ${model.name}...`)\n    tf.io\n      .removeModel(`${this.storagePath()}model-file-${model.identifier}`)\n      .then(() => Vue.set(this.diskActivity, 0, null))\n      .catch(err => {\n        Vue.set(this.diskActivity, 0, null)\n        console.log(err)\n      })\n  },\n  clearAllTfModels() {\n    tf.io.listModels().then(models => {\n      Object.keys(models).forEach(modelPath => {\n        // TODO make this asynchronous, wait for each remove to finish before the next\n        tf.io.removeModel(modelPath)\n      })\n    })\n  },\n  clearDisk() {\n    return new Promise(resolve => {\n      if (\n        window.confirm(\n          'Are you sure you want to delete all sounds, labels and models?'\n        )\n      ) {\n        Vue.set(this.diskActivity, 0, 'clearing disk...')\n        this.clearAllTfModels()\n        localforage.clear().then(() => {\n          Vue.set(this.diskActivity, 0, null)\n          resolve()\n        })\n      }\n    })\n  }\n}\n","import moment from 'moment'\nimport { v4 as uuidv4 } from 'uuid'\nimport DiskIO from '@/utils/DiskIO'\n\nexport default {\n  namespaced: true,\n  state: {\n    labels: [],\n    sounds: [],\n    selectedSound: null,\n    diskActivity: DiskIO.diskActivity\n  },\n  getters: {\n    getLabels: state => state.labels,\n    getAllSounds: state => state.sounds,\n    getSoundsByLabel: state => label =>\n      state.sounds.filter(sound => sound.label == label),\n    getSoundByIdentifier: state => identifier =>\n      state.sounds.find(sound => sound.identifier == identifier),\n    getSelectedSound: state => state.selectedSound,\n    getDiskActivity: state => state.diskActivity[0]\n  },\n  mutations: {\n    addLabel(state, newLabel) {\n      // for some reason .findIndex and .find don't work :/\n      let found = false\n      state.labels.forEach(label => {\n        found = found || label == newLabel\n      })\n      if (found == false) {\n        state.labels = [...state.labels, newLabel]\n        DiskIO.saveToDisk('labels', state.labels)\n      } else {\n        console.log('Label already exists.')\n      }\n    },\n    deleteLabel(state, label) {\n      if (window.confirm(`Delete label ${label}?`)) {\n        state.labels = state.labels.filter(oldLabel => oldLabel != label)\n        // remove label from sounds:\n        state.sounds = state.sounds.map(sound => {\n          if (sound.label == label) {\n            sound.label = null\n          }\n          return sound\n        })\n        DiskIO.saveToDisk('labels', state.labels).then(() =>\n          DiskIO.saveToDisk('sounds', state.sounds)\n        )\n      }\n    },\n    addSound(state, { name, type, label, file }) {\n      const datetime = moment().format('YYYY-MM-DD HH:mm:ss')\n      const identifier = uuidv4()\n      const newSound = {\n        label: label,\n        name: name,\n        type: type,\n        datetime,\n        identifier\n      }\n      state.sounds.push(newSound)\n      state.selectedSound = newSound\n      DiskIO.saveToDisk(`sound-file-${identifier}`, file).then(() =>\n        DiskIO.saveToDisk('sounds', state.sounds)\n      )\n    },\n    deleteSound(state, sound) {\n      if (window.confirm(`Delete this sound?`)) {\n        state.selectedSound = null\n        state.sounds = state.sounds.filter(\n          oldSound => oldSound.identifier != sound.identifier\n        )\n        DiskIO.saveToDisk('sounds', state.sounds).then(() =>\n          DiskIO.removeFromDisk(`sound-file-${sound.identifier}`)\n        )\n      }\n    },\n    selectSound(state, sound) {\n      state.selectedSound = sound\n    },\n    reset(state) {\n      state.labels = []\n      state.sounds = []\n      state.selectedSound = null\n    }\n  },\n  actions: {\n    newLabel(context) {\n      return new Promise(resolve => {\n        const labelPrompt = window.prompt('New label name:')\n        if (labelPrompt != null) {\n          const newLabel = labelPrompt.toLowerCase().trim()\n          context.commit('addLabel', newLabel)\n          resolve(newLabel)\n        } else {\n          resolve(null)\n        }\n      })\n    },\n    importSounds(\n      { state, commit },\n      { sounds, logFunction = s => console.log(s) }\n    ) {\n      sounds.forEach(sound => {\n        let found = false\n        state.sounds.forEach(checkSound => {\n          found = found || checkSound.identifier == sound.identifier\n        })\n        if (found) {\n          logFunction(`Sound ${sound.name} already in store`)\n        } else {\n          logFunction(`Adding sound ${sound.name}...`)\n          // add a property on the sound indicating that the sound\n          // was imported and has no sound file\n          sound.noSoundFile = true\n          state.sounds.push(sound)\n          // add label in case it doesn't exist\n          if (sound.label && sound.label != 'null') {\n            commit('addLabel', sound.label)\n          }\n        }\n      })\n      DiskIO.saveToDisk('sounds', state.sounds)\n    },\n    loadAll({ state }) {\n      console.log('loading sounds and labels...')\n      DiskIO.loadFromDisk('labels')\n        .then(labels => {\n          if (labels != null) {\n            state.labels = labels\n          }\n          DiskIO.loadFromDisk('sounds')\n            .then(sounds => {\n              if (sounds != null) {\n                state.sounds = sounds\n              }\n            })\n            .catch(err => console.log(err))\n        })\n        .catch(err => console.log(err))\n    },\n    loadSoundFile(_, sound) {\n      return new Promise((resolve, reject) => {\n        DiskIO.loadFromDisk(`sound-file-${sound.identifier}`)\n          .then(file => resolve(file))\n          .catch(err => reject(err))\n      })\n    },\n    saveSounds({ state }) {\n      DiskIO.saveToDisk('sounds', state.sounds)\n    }\n  }\n}\n","import moment from 'moment'\nimport { v4 as uuidv4 } from 'uuid'\nimport DiskIO from '@/utils/DiskIO'\n\nexport default {\n  namespaced: true,\n  state: {\n    models: [],\n    selectedModel: null,\n    diskActivity: DiskIO.diskActivity\n  },\n  getters: {\n    getModels: state => state.models,\n    getModelByIdentifier: state => identifier =>\n      state.models.find(model => model.identifier == identifier),\n    getSelectedModel: state => state.selectedModel,\n    getDiskActivity: state => state.diskActivity[0]\n  },\n  mutations: {\n    addModel(state, model) {\n      const created = moment().format('YYYY-MM-DD HH:mm:ss')\n      const identifier = uuidv4()\n      const hasTfModel = false\n      const labels = []\n      const newModel = { created, identifier, hasTfModel, labels, ...model }\n      state.models.push(newModel)\n      state.selectedModel = newModel\n      DiskIO.saveToDisk('models', state.models)\n    },\n    selectModel(state, model) {\n      state.selectedModel = model\n    },\n    reset(state) {\n      state.models = []\n      state.selectedModel = null\n    }\n  },\n  actions: {\n    importModel({ state, dispatch }, { model, tfModel }) {\n      // save model\n      state.models.push(model)\n      DiskIO.saveToDisk('models', state.models).then(() => {\n        // save tfModel\n        dispatch('saveTfModel', { model, tfModel }).then(() => {\n          // save models to disk\n          DiskIO.saveToDisk('models', state.models)\n        })\n      })\n    },\n    saveTfModel(_, { model, tfModel }) {\n      return new Promise(resolve => {\n        DiskIO.saveTfModel(model, tfModel).then(() => resolve())\n      })\n    },\n    loadTfModel(_, { model }) {\n      return new Promise((resolve, reject) => {\n        DiskIO.loadTfModel(model)\n          .then(tfModel => resolve(tfModel))\n          .catch(err => reject(err))\n      })\n    },\n    deleteModel({ state, commit }, model) {\n      if (window.confirm(`Delete model ${model.name}?`)) {\n        commit('selectModel', null)\n        if (model.hasTfModel) {\n          DiskIO.clearTfModel(model)\n        }\n        state.models = state.models.filter(oldModel => oldModel != model)\n        DiskIO.saveToDisk('models', state.models)\n      }\n    },\n    loadAll({ state }) {\n      console.log('loading models...')\n      DiskIO.loadFromDisk('models')\n        .then(models => {\n          if (models != null) {\n            state.models = models\n          }\n        })\n        .catch(err => console.log(err))\n    },\n    saveModels({ state }) {\n      return new Promise(resolve => {\n        DiskIO.saveToDisk('models', state.models).then(() => resolve())\n      })\n    }\n  }\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport sounds from './store-sounds.js'\nimport models from './store-models.js'\nimport DiskIO from '@/utils/DiskIO'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  actions: {\n    loadAll({ dispatch }) {\n      dispatch('sounds/loadAll')\n      dispatch('models/loadAll')\n    },\n    clearAll({ commit }) {\n      DiskIO.clearDisk().then(() => {\n        commit('sounds/reset')\n        commit('models/reset')\n      })\n    }\n  },\n  modules: {\n    sounds,\n    models\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","<template>\n  <div class=\"export-model\">\n    <div class=\"model-property model-property-name b\">\n      {{ model.name }}\n    </div>\n    <div v-if=\"model.trained\" class=\"model-property model-property-stats\">\n      {{ model.epochsTrained }} epochs trained, acc:\n      {{ roundTo(model.acc, 4) }}, loss:\n      {{ roundTo(model.loss, 4) }}\n    </div>\n    <div class=\"btn\" @click=\"exportModel\">\n      export model\n    </div>\n  </div>\n</template>\n\n<script>\nimport { saveAs } from 'file-saver'\nimport roundTo from 'round-to'\nimport * as tf from '@tensorflow/tfjs'\n\nexport default {\n  props: {\n    model: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    async exportModel() {\n      // get tfmodel\n      const tfModel = await this.$store.dispatch('models/loadTfModel', {\n        model: this.model\n      })\n      // serialize model\n      let tfModelSerialized = await tfModel.save(\n        tf.io.withSaveHandler(async modelArtifacts => modelArtifacts)\n      )\n      tfModelSerialized.weightData = Buffer.from(\n        tfModelSerialized.weightData\n      ).toString('base64')\n      const tfModelJson = JSON.stringify(tfModelSerialized)\n      // add tfModel to model metadata\n      this.model.tfModelJson = tfModelJson\n      // download\n      saveAs(new Blob([JSON.stringify(this.model)]), `${this.model.name}.blob`)\n    },\n    roundTo\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/variables.scss';\n\n.export-model {\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  background: $blue-almost-white;\n  border-radius: 3px;\n}\n.model-property {\n  margin-bottom: 0.5rem;\n}\n</style>\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRecorder.vue?vue&type=style&index=0&id=7b9b5426&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioRecorder.vue?vue&type=style&index=0&id=7b9b5426&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PredictModel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PredictModel.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"output\",staticClass:\"terminal\"},[_c('div',{staticClass:\"mono\",domProps:{\"innerHTML\":_vm._s(_vm.outputString)}}),_c('div',{staticClass:\"terminal-end\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"output\" class=\"terminal\">\n    <div class=\"mono\" v-html=\"outputString\"></div>\n    <div class=\"terminal-end\" />\n  </div>\n</template>\n\n<script>\nimport imageUtils from '@/utils/imageUtils'\n\nexport default {\n  props: {\n    output: {\n      type: Array,\n      default: () => []\n    },\n    maxLines: {\n      type: Number,\n      default: 100\n    }\n  },\n  computed: {\n    startIndex() {\n      return Math.max(0, this.output.length - this.maxLines)\n    },\n    endIndex() {\n      return Math.min(this.startIndex + this.maxLines, this.output.length)\n    },\n    firstLine() {\n      return this.output.length > this.maxLines ? '(...)\\n' : ''\n    },\n    outputString() {\n      return (\n        this.firstLine +\n        this.output\n          .slice(this.startIndex, this.endIndex)\n          .map(this.formatOutputItem)\n          .join('')\n      )\n    }\n  },\n  watch: {\n    output() {\n      const outputHolderEl = this.$refs['output']\n      outputHolderEl.scrollTop = outputHolderEl.scrollHeight\n    }\n  },\n  methods: {\n    formatOutputItem(item) {\n      if (typeof item == 'string') {\n        return `<pre>${item}</pre>`\n      } else {\n        try {\n          const dataUrl = imageUtils.createImageFromSpectrogram(item)\n          return `<img src=\"${dataUrl}\" />`\n        } catch {\n          return ''\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/variables.scss';\n\n.terminal {\n  text-align: left;\n  overflow-y: scroll;\n  background: rgba(255, 255, 255, 0.5);\n  padding: 0.5rem;\n  color: $blue;\n}\n.terminal-end {\n  height: 2rem;\n}\n\n.terminal pre {\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Terminal.vue?vue&type=template&id=0e087dac&\"\nimport script from \"./Terminal.vue?vue&type=script&lang=js&\"\nexport * from \"./Terminal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Terminal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  padAndCut(spectrogram, overlapFraction = 0.5, length = 173) {\n    const totalLength = spectrogram.length\n    const overlapLength = Math.round(overlapFraction * length)\n    const hopSize = length - overlapLength\n    const numCuts = Math.max(\n      1,\n      Math.ceil((totalLength - overlapLength) / hopSize)\n    )\n    const spectrograms = []\n    for (let i = 0; i < numCuts; i++) {\n      const start = i * hopSize\n      const end = start + length\n      let slicedSpectrogram = spectrogram.slice(start, end)\n      // if the cut is not long enough, pad by repeating the sample from the start\n      // if the sample is much smaller than the required length, we may even need to\n      // this multiple times\n      while (slicedSpectrogram.length < length) {\n        const padLength = length - slicedSpectrogram.length\n        slicedSpectrogram = [\n          ...slicedSpectrogram,\n          ...spectrogram.slice(0, padLength)\n        ]\n      }\n      spectrograms.push(slicedSpectrogram)\n    }\n    return spectrograms\n  },\n  createImageFromSpectrogram(spectrogram) {\n    // from https://stackoverflow.com/a/22826906/8811010\n    const width = spectrogram.length\n    const height = spectrogram[0].length\n    const buffer = new Uint8ClampedArray(width * height * 4) // have enough bytes\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const pos = (y * width + x) * 4 // position in buffer based on x and y\n        const value = spectrogram[x][height - y - 1] * 255\n        buffer[pos] = value // some R value [0, 255]\n        buffer[pos + 1] = value // some G value\n        buffer[pos + 2] = value // some B value\n        buffer[pos + 3] = 255 // set alpha channel\n      }\n    }\n    // create off-screen canvas element\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    canvas.width = width\n    canvas.height = height\n    // create imageData object\n    const idata = ctx.createImageData(width, height)\n    // set our buffer as source\n    idata.data.set(buffer)\n    // update canvas with new data\n    ctx.putImageData(idata, 0, 0)\n    var dataURI = canvas.toDataURL() // produces a PNG file\n    return dataURI\n  }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTabs.vue?vue&type=style&index=0&id=f11c419c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTabs.vue?vue&type=style&index=0&id=f11c419c&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoundInspector.vue?vue&type=style&index=0&id=68b80bff&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoundInspector.vue?vue&type=style&index=0&id=68b80bff&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueAudio.vue?vue&type=style&index=0&id=7ef45ec8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueAudio.vue?vue&type=style&index=0&id=7ef45ec8&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sounds.vue?vue&type=style&index=0&id=b22fd59a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sounds.vue?vue&type=style&index=0&id=b22fd59a&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Models.vue?vue&type=style&index=0&id=a85bc6ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Models.vue?vue&type=style&index=0&id=a85bc6ae&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExport.vue?vue&type=style&index=0&id=5ee52972&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportExport.vue?vue&type=style&index=0&id=5ee52972&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordAudioButton.vue?vue&type=style&index=0&id=5f3d6ec4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordAudioButton.vue?vue&type=style&index=0&id=5f3d6ec4&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreprocessItem.vue?vue&type=style&index=0&id=125df713&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreprocessItem.vue?vue&type=style&index=0&id=125df713&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=7f23b3b0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=7f23b3b0&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainModel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainModel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=style&index=0&id=5b24e9d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=style&index=0&id=5b24e9d2&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMultiple.vue?vue&type=style&index=0&id=d39ab648&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMultiple.vue?vue&type=style&index=0&id=d39ab648&lang=scss&scoped=true&\""],"sourceRoot":""}